/******Date: 7 - 2 -2018  *********/

var s_account = "emc-dev2011";
/* Specify the Report Suite ID(s) to track here */

//var s_account = 'emc-dev2011';
var locations = window.location.toString();

//qa environment, staging environment
if (locations.indexOf("stagefw") != -1 || locations.indexOf("devfw") != -1 || locations.indexOf("wipb") != -1 || locations.indexOf("wipa") != -1 || locations.indexOf("test-a") != -1 || locations.indexOf("test-b") != -1 || locations.indexOf("dev-a") != -1 || locations.indexOf("sso-per") != -1|| locations.indexOf("sso.emc") != -1 || locations.indexOf("sso-") != -1|| locations.indexOf("sso.emc") != -1 || locations.indexOf("dev-b") != -1) {
    s_account = 'emc-dev2015';
    //qa environment, staging environment

} else if (locations.indexOf("dev-prevb.emc.com/auth/playbooks") != -1 || locations.indexOf("educationstg") != -1) {
    s_account = "emc-sales-dev";

} else if (locations.indexOf("/playbooks/") != -1 || locations.indexOf("education.emc.com/Sales_Playbooks/") != -1|| locations.indexOf("preview.emc.com/auth/playbooks") != -1) {
    s_account = "emc-sales,emc-ngoe-perf";
    //s_account = "emc-sales,emc-ngoe-perf,emc-global";

} else if ( locations.indexOf("auth/rpage") != -1) {
    s_account = "emc-ngoe-perf,emc-sales";
    //s_account = "emc-ngoe-perf,emc-global,emc-sales";

} else if ( locations.indexOf("preview") != -1 || locations.indexOf("test-prev") != -1 || locations.indexOf(".isus.") != -1 || locations.indexOf("delltechnologies.emc") != -1 || locations.indexOf("stage-") != -1 || locations.indexOf("educationdev54") != -1 || locations.indexOf("dev-prev") != -1 ) {  // Needs o be after the playbook identification
    s_account = "emc-dev2011";

}else if (locations.indexOf("emcfederation") != -1) {
    s_account = "emc-ngoe-perf,emc-federation";
    //s_account = "emc-ngoe-perf,emc-global,emc-federation";

} else {
    s_account = "emc-ngoe-perf";
    //s_account = "emc-ngoe-perf,emc-global";
    //production environment
}

var s = s_gi(s_account);
s.account = s_account;
/************************** CONFIG SECTION **************************/

/* You may add or alter any code config here. */

s.charSet="UTF-8" // "ISO-8859-1"

s.dynamicAccountSelection=false;

var theDomain=location.hostname.toString();

/* Conversion Config */
s.currencyCode="USD";
/* Link Tracking Config */
s.trackDownloadLinks=true;
s.trackExternalLinks=true;
s.trackInlineStats=false;
s.linkDownloadFileTypes="exe,zip,wav,mp3,mp4,mov,mpg,avi,wmv,pdf,doc,docx,xls,xlsx,xlsm,ppt,dotx,docm,pptx,ppsx,vmdk,ovf,ova,mobi,epub,ibooks,gz";
s.linkInternalFilters="tel:,javascript:,#,delltechnologies.com,delltechnologiesworld.com,dell.com,emc.com,emcworld.com,emcworldonline.com,dellemc.com,activeevents.com,rsa.com,emcinformation.com,emcfederation.com,xtremio.com,vce.com,liveperson.net";
s.linkLeaveQueryString=false;
s.linkTrackVars="events";
s.linkTrackEvents="None";

/* Page Name Plugin Config */
s.siteID="";               // leftmost value in pagename
s.defaultPage="index.htm"; // filename to add when none exists
s.queryVarsList="";        // query parameters to keep
s.pathExcludeDelim=";";    // portion of the path to exclude
s.pathConcatDelim="/";     // page name component separator
s.pathExcludeList="";      // elements to exclude from the path

/* Plugin Config */
s.usePlugins=true;

/* END OF CONFIG SECTION*/


if (typeof(_satellite) != "undefined"){  //capture country for non-store pages.  Returns Corp if it cant determine country
    var dtmCountry = _satellite.getVar('getCountry');
    if (dtmCountry != undefined){
        s.eVar75 = dtmCountry.toUpperCase();
    }else {
     s.eVar75 = "";
    }
}else if (location.hostname.indexOf("blogs.rsa.com") >-1){  //RSA does not use standard header where country is defined
    s.eVar75 = "corp";

}else if (location.hostname.indexOf("www.rsa.com") >-1){  //RSA does not use standard header where country is defined
    var splitted_dir = unescape(location.pathname);  //get location path
    splitted_dir = splitted_dir.split("/");  //split directorys
    var split_ctrylang = splitted_dir[1].split("-")  //split the first directory by -
    if (split_ctrylang.length < 1){
         s.eVar75 = split_ctrylang[1].toUpperCase(); //return the country
    }else{
    	s.eVar75 = "US";
    }

}
//var pageValidator=window.location.toString();
var pageValidator = location.hostname.toString();

//Identifies if the page ahs Visitor API is implemented on the page
s.prop56 = (typeof(Visitor) != "undefined" ? "VisitorAPI Present" : "VisitorAPI Missing"); // Testing for VisitorAPI coverage
if (typeof(Visitor) != "undefined"){
    s.visitor = Visitor.getInstance("A6F4776A5245B0EA0A490D44@AdobeOrg");
    s.eVar57 = visitor.getMarketingCloudVisitorID();  //sends data to props and eVars for passing to Aprimo
    s.prop57 = "D=v57";
}
/* populate s.prop1-4 - Section Variables*/

var aURL = unescape(location.href);
var referrURL = unescape(document.referrer);
// var xstart = aURL.indexOf(".emc.com")+9;

if  (aURL.indexOf(".emc.com") > -1) {
    var xstart = aURL.indexOf(".emc.com") + 9;
} else {
    var xstart = 7;
}
var xend = aURL.length;
var awebcurl = aURL.substring(xstart, xend);

if (referrURL.indexOf(".emc.com") > -1) {
    var rxstart = referrURL.indexOf(".emc.com") + 9;
} else {
    var rxstart = 7;
}
var rxend = referrURL.length;
var rawebcurl = referrURL.substring(rxstart, rxend);
//Function to manually capture the URI of the URL
function getAwebcurl(){
    var fURL = unescape(location.href);
    if (fURL.indexOf(".emc.com") > -1) {
        var fxstart = aURL.indexOf(".emc.com") + 9;
    } else {
        var fxstart = 7;
    }
    var fxend = fURL.length;
    var fawebcurl = aURL.substring(xstart, xend);
    return fawebcurl;
}

//To make page name the url
//Split the url into separate variables to populate props 1 -4
var set_s_prop1 = "";
var set_s_prop2 = "";
var set_s_prop3 = "";
var set_s_prop4 = "";
var set_hier = "";
var arrylen = "";
var sprops_splitted = awebcurl.split("/");
sprops_splitted.length = sprops_splitted.length - 1;

if ((sprops_splitted.length == 0) && (awebcurl.indexOf("index")>-1)) {
    set_hier = "home";
    set_s_prop1 = "home";
    set_s_prop2 = "home";
    set_s_prop3 = "home";
    set_s_prop4 = "home";

} else {
    if (sprops_splitted[0]) {
        set_s_prop1 = sprops_splitted[0];
        set_hier = set_s_prop1;
        set_s_prop2 = set_s_prop1;
        set_s_prop3 = set_s_prop1;
        set_s_prop4 = set_s_prop1;
    }
    if (sprops_splitted[1]) {
        set_s_prop2 = set_s_prop1 + ":" + sprops_splitted[1];
        set_hier = set_s_prop2;
        set_s_prop3 = set_s_prop2;
        set_s_prop4 = set_s_prop2;
    }
    if (sprops_splitted[2]) {
        set_s_prop3 = set_s_prop2 + ":" + sprops_splitted[2];
        set_hier = set_s_prop3;
        set_s_prop4 = set_s_prop3;
    }
    if (sprops_splitted[3]) {
        set_s_prop4 = set_s_prop3 + ":" + sprops_splitted[3];
        set_hier = set_s_prop4;
    }

    set_hier = set_hier.replace(/:/, ",")
    set_hier = set_hier.replace(/:/, ",")

}
/* Now set the final omniture s_prop*/
s.prop1 = set_s_prop1;
s.prop2 = set_s_prop2;
s.prop3 = set_s_prop3;
s.prop4 = set_s_prop4;
s.hier1 = set_hier;

/*END of s.prop1-4,s.hier1 population code*/

function getTime() {
    var now = new Date();
    var hour = now.getHours();
    var minute = now.getMinutes();
    var second = now.getSeconds();
    var ap = "AM";
    if (hour > 11) {
        ap = "PM";
    }
    if (hour > 12) {
        hour = hour - 12;
    }
    if (hour == 0) {
        hour = 12;
    }
    if (hour < 10) {
        hour = "0" + hour;
    }
    if (minute < 10) {
        minute = "0" + minute;
    }
    if (second < 10) {
        second = "0" + second;
    }
    var returnTime = hour + ':' + minute + ':' + second + ap;
    return returnTime;

}

//Function used to capture the site search information
//Because of the way search is implemented a delay is placed on the capture
function getNewSearch(linkedPage) {
    if  (aURL.indexOf("delltechnologies") < 0) {
        setTimeout(function() {
            var qURL = location.href;
            if (qURL.indexOf(".emc.com") > -1) {
                var qxstart = qURL.indexOf(".emc.com") + 9;
            } else {
                var xstart = 7;
            }
            var qxend = qURL.length;
            var qawebcurl = qURL.substring(xstart, qxend);
            var qsearchurl = qURL.substring(xstart, qxend);
            var query_splitted = location.hash;
            if (linkedPage == "popular") {
                query_splitted = decodeURIComponent(query_splitted);;
            }
            if (query_splitted.length > 0) {
                var query_parms = decodeURIComponent(query_splitted);
                var srcQuery = jQuery('div#global-search  p.breadcrumb a').html();

                if ((srcQuery == null) && (location.pathname.indexOf("service-offering") > 0)) {
                    srcQuery = "service-offering";
                } else if ((srcQuery == null) && (linkedPage == "none")) {
                    srcQuery = "SEARCH BOX";
                } else if ((srcQuery == null) && (linkedPage == "popular")) {
                    srcQuery = "POPULAR SEARCH";
                } else if (srcQuery == null) {
                    srcQuery = "SEARCH";
                }
                s.prop58 = srcQuery;

                if ( typeof (srcQuery) == "undefined") {
                    srcQuery = "";
                } else {
                    srcQuery = srcQuery + ":";
                }

                s.prop49 = srcQuery + query_parms;
                var query_parms2 = query_parms.replace(':','&');
                var queryMap = parseString(query_parms2);
                var numQresults = jQuery('div.count span.total').text();

                if (queryMap.q != null) {
                    s.prop47 = decodeURIComponent(queryMap.q.toString());
                }
                if (queryMap["/search/query"] != null) {
                    var q_term = queryMap["/search/query"][0].split(';');
                    s.prop47 = decodeURIComponent(q_term[0]);
                }
                if (queryMap["/search-results/query"] != null) {
                    var q_term = queryMap["/search-results/query"][0].split(';');
                    s.prop47 = decodeURIComponent(q_term[0]);
                }
                if (queryMap.productSolutionId != null) {
                    s.prop48 = queryMap.productSolutionId;
                }
                if (queryMap.pScope != null) {
                    s.prop48 = queryMap.pScope;
                }
                if (queryMap.collateralType != null) {
                    s.prop50 = queryMap.collateralType;
                }

                if (numQresults != null && numQresults != "") {
                    s.prop52 = numQresults;
                }
                if (qURL.indexOf(".emc.com") > -1) {
                     if (numQresults == ""){
                         s.prop52 = "0";
                         if ( typeof q_term) {
                             s.prop53 = q_term[0];
                        }
                    }
                }
            }
            //setting search events etc
            if(s.prop47){
                s.eVar6=s.prop47=s.prop47.toLowerCase();
                var t_search=s.getValOnce(s.eVar6,'ev6',0);
                if(t_search) {
                    s.events="event2,event1";
                    s.products=";;;;event1=3,;;;;event2";
                }
            }

            if ( typeof (linkedPage) != "undefined") {
                if (linkedPage == "none") {
                    s.tl(this, 'o', s.prop49);
                } else {
                    s.tl(this, 'o', "Search Page:" + s.prop49);
                }
            }
        }, 2000);
   }
} // end function getNewSearch

//Called to set the variables from LiverPerson.  Variables are set by an external process on each page.  Use console to see
function setChatVars() {
    s = s_gi(s_account);
    s.trackingServer = "ecn-analytics-nssl.emc.com";
    s.trackingServerSecure = "ecn-analytics.emc.com";
    s.trackExternalLinks = "false";
    var theText2 ="Start Chat";
    var theText = jQuery.trim(theText2) + ":IB";
    s.linkTrackVars = 'events,prop73,prop74,prop66,prop65,prop32,eVar7,eVar32,eVar24';
    s.linkTrackEvents = "event54";
    var initialSkill = "not set";
    var selectedSkill = "undefined";
    // Test code for changeing the href for emcinformation

    if ( typeof (emclp) != "undefined") {
        initialSkill = emclp.livePersonSkill;
    }
    if ( typeof (inboundBar.chat.altSkill) != "undefined") {
        selectedSkill = inboundBar.chat.altSkill;
    }
    s.events = "event54";

    theText = "Live Chat Launch:" + initialSkill + ":" + selectedSkill + ":" + theText;

    s.prop73 = theText;
    if (s.pageName) {
        s.prop74 = s.pageName;
    } else {
        if ( typeof (awebcurl) != "undefined") {//If pagename is not defined yet, set to aweburl if defined
            s.prop74 = awebcurl;
        }
    }
    s.prop65 = getTime();
    s.tl(this, 'o', s.prop73 + ':' + s.prop74);
    s.events = "";

}

//Check for read cookie function.  This version is set by global js.  All cookie related logic should be in this condition
if ( typeof (ReadCookie) != "undefined") {

    var vanityHref = "";
    var vanityHref = ReadCookie("vanity");

    if ( typeof (vanityHref) != "undefined") {
        if (vanityHref != null && vanityHref.length > 0 && awebcurl.length < 15) {
            s.referrer = unescape(location.href);
            s.pageURL = vanityHref;
            s.prop70 = awebcurl + "---" + vanityHref;
        }
        deleteCookie("vanity");
    }

    var redirectHref = "";
    var redirectHref = ReadCookie("reDir");

    if ( typeof (redirectHref) != "undefined") {
        if (redirectHref != null && redirectHref.length > 0) {
            s.referrer = unescape(location.href);
            s.pageURL = redirectHref;
            s.prop71 = awebcurl + "---" + redirectHref;
        }
        deleteCookie("reDir");
    }
}

//Check for read cookie function.  All cookie related logic should be in this condition
if ( typeof (ReadCookie) != "undefined") {

    var vanityHref = "";
    var vanityHref = ReadCookie("vanity");

    if ( typeof (vanityHref) != "undefined") {

        if (vanityHref != null && vanityHref.length > 0 && awebcurl.length < 15) {
            s.referrer = unescape(location.href);
            s.pageURL = vanityHref;
            s.prop70 = awebcurl + "---" + vanityHref;
        }
        deleteCookie("vanity");
    }

    var redirectHref = "";
    var redirectHref = ReadCookie("reDir");

    if ( typeof (redirectHref) != "undefined") {
        if (redirectHref != null && redirectHref.length > 0) {
            s.referrer = unescape(location.href);
            s.pageURL = redirectHref;
            s.prop71 = awebcurl + "---" + redirectHref;
        }

        deleteCookie("reDir");
    }

}

// Used to track EMC Plus Tiles.  Can be accessed from nav bar
if (("div#content_river_scroll div") != "undefined") {
    jQuery(document).on("click","div#content_river_scroll div", function() {
    //jQuery(document).delegate("div#content_river_scroll div","click", function() {

        var scID = jQuery(this).attr("id");
        var scText = jQuery(this).text().trim();
        var s = s_gi(s_account);
        s.trackingServer = "ecn-analytics-nssl.emc.com";
        s.trackingServerSecure = "ecn-analytics.emc.com";
        s.linkTrackVars = 'eVar7';
        s.pageName = s.eVar7 = 'EMC Plus:' + scText;
        s.t();
        // s.tl(this, 'o', s.pageName + ": Tab Nav");
        s.events = '';
        s.products = '';
        s.eVar8 = '';
    });
}

jQuery(window).on('load',function() {//TB UPDATE
    //SEARCH BOX Trigger needs to be for all pages
    jQuery(document).on('click','form#globalSearchForm.searchForm div.headerSprite.searchIcon', function() {
        s.linkTrackVars = 'events,products,prop47,prop48,prop49,prop50,prop52,prop58,prop59,prop73,prop74,prop66,prop32,eVar32,eVar6';
        s.linkTrackEvents = "event1,event2";
        linkedPage = "Search Box:"+rawebcurl;
        s.prop74 = location.pathname;
        s.prop73 = linkedPage;
        s.prop59 = jQuery(this).find('a').attr('data-item-number');
        s.events = "";

        getNewSearch(linkedPage);

    });

    //Listens for SSite Search engagement.  This is where search gets called from initially
    jQuery(document).on('click','div.content h3.title, ul.descriptionAssetsList li p.assetTitle a', function() {
        s.linkTrackVars = 'products,events,prop47,prop48,prop49,prop50,prop52,prop59,prop58,prop73,prop74,prop66,prop32,eVar32';
        s.linkTrackEvents = "event1,event2";
        var linkedPage = jQuery(this).find('a').attr('href') + ":" + jQuery(this).text();
        //URL + link name
        s.prop74 = location.pathname;
        s.prop73 = linkedPage;
        s.prop59 = jQuery(this).find('a').attr('data-item-number');
        s.events = "";

        getNewSearch(linkedPage);

    });

    //When search is one of the popular searches accessed from the search page
    jQuery(document).on('click','div.popular-searches', function() {
        s.linkTrackVars = 'products,events,prop47,prop48,prop49,prop50,prop52,prop58,prop59,prop73,prop74,prop66,prop32,eVar32,eVar6';
        s.linkTrackEvents = "event1,event2";
        linkedPage = "popular";
        s.prop74 = location.pathname;
        s.prop73 = linkedPage;
        s.prop59 = jQuery(this).find('a').attr('data-item-number');
        s.events = "";

        getNewSearch(linkedPage);

    });

    jQuery(document).on('click','div#keyword-search input.submit', function() {
        s.linkTrackVars = 'products,events,prop47,prop48,prop49,prop50,prop52,prop53,prop58,prop59,prop73,prop74,prop66,prop32,eVar32,eVar6';
        s.linkTrackEvents = "event1,event2";
        linkedPage = "SEARCH";
        s.prop74 = location.pathname;
        s.prop73 = linkedPage;
        s.prop59 = jQuery(this).find('a').attr('data-item-number');
        s.events = "";

        getNewSearch(linkedPage);

    });

    //SEARCH BOX Trigger
    //tracking newsearchbutton
    //Search buttons
    if  (aURL.indexOf("search.htm") > 0) {//if this is a playbook site skip
        s.linkTrackVars = 'products,events,prop47,prop48,prop49,prop50,prop52,prop53,prop58,prop59,prop73,prop74,prop66,prop32,eVar32,eVar6';
        s.linkTrackEvents = "event1,event2";
        s.prop59 = jQuery(this).find('a').attr('data-item-number');
        s.events = "";

        getNewSearch("none");
    }

});

jQuery(document).ready(function() {

    //tracking print button - check if still used
    jQuery('.plainList').click(function() {
        var theText = jQuery(this).text();
        var theLink = jQuery(this).attr("href");
        s.linkTrackVars = 'prop60,prop61,prop66,prop32,eVar32';
        s.prop60 = theText;
        s.prop61 = s.pageName;
        s.tl(this, 'o', s.prop60 + "<>" + s.prop61);
    });

    //RSS subscription tracking - check if still used/needed
    jQuery('.SF_RSS_subscription_link,.SF_RSS_primButton').click(function() {
        var s = s_gi(s_account);
        s.events = '';
        s.linkTrackVars = 'products,events,prop66,prop32,eVar32,prop73,prop74';
        s.linkTrackEvents = "event8,event1";
        s.events = "event8,event1";
        s.products = ";;;;event1=5,;;;;event8";
        s.prop73 = "RSS Subscription";
        if (s.pageName) {
                s.prop74 = s.pageName;
        } else if ( typeof (awebcurl) != "undefined") {//If pagename is not defined yet, set to aweburl if defined
            var cleanerurl = awebcurl.split("?");
            var cleanaurl = cleanerurl[0];
            s.prop74 = s.eVar7=s.pageName= awebcurl= cleanaurl;
        }

        s.tl(this, 'o', "RSS Subscription");
        s.events = '';
        s.products = '';
    });

    //PD tab tracking
    jQuery('.productDetailHalfMidTabs a').click(function() {
        recordTabValue(jQuery.trim()(this).text());
    });

    // microsites directory not used wholistically so not sure if this is still being used
    jQuery('p.darkBlueLink').click(function() {
        var s = s_gi(s_account);
        var theText = jQuery(this).text();
        var theLink = jQuery(this).attr("href");
        var isUnified = s.pageName;
        if (theLink.indexOf("info.emc.com") != -1 && isUnified == "microsites/unified-campaign/partner-recruitment.htm") {
            s.linkTrackVars = "events,eVar7,prop66,prop32,eVar32";
            s.linkTrackEvents = "event48";
            s.events = "event48";
            var register = "register";
            s.tl(this, 'o', s.events);
            s.events = "";
        } else if (theText.indexOf("Apply") != -1 || theText.indexOf("started") != -1 && isUnified == "microsites/unified-campaign/partner-recruitment.htm") {
            s.linkTrackVars = "events,eVar7,prop66,prop32,eVar32";
            s.linkTrackEvents = "event47";
            s.events = "event47";
            s.tl(this, 'o', s.events);
            s.events = "";
        }

    });

    //Microsites directory not used wholisticaly anymore - not sure if still being used.  Dont see links with this pattern
    jQuery('#tabs .tab').click(function() {
        var s = s_gi(s_account);
        var isIsilon = s.pageName;
        if (isIsilon.indexOf("microsites/isilon") != -1) {
            s.linkTrackVars = "prop75,prop19,prop20,prop66,prop32,eVar32";
            var theText = jQuery(this).text();
            s.tl(this, 'o', s.pageName + ":" + theText + ": Tab Nav");
            s.events = "";
        }
    });

    //Microsites directory not used wholisticaly anymore - not sure if still being used.  Dont see links with this pattern
    //isilon
    jQuery('.more .blueBtn').click(function() {
        var s = s_gi(s_account);
        var isIsilon = s.pageName;
        if (isIsilon.indexOf("microsites/isilon") != -1) {
            s.linkTrackVars = "prop75,prop19,prop20,prop66,prop32,eVar32";
            var theText = jQuery(this).text();
            s.tl(this, 'o', s.pageName + ":" + theText + ": Button Below Hero");
            s.events = "";
        }
    });

    //Partner portal tile-tracking:  partner.emc.com
    jQuery('ul.expand-collapse-module li').click(function(event) {
        var clickedTile = jQuery(this);
        var clickedClass = clickedTile.attr('class');
        var clickParent = jQuery(this).parents('ul[data-section-display]').attr('id');
        var clickCat = 'new category:';
        var clickTarget = event.target;

        if (s.pageName) {
            s.prop74 = s.pageName;
        }
        else {
            if ( typeof (awebcurl) != "undefined") {//If pagename is not defined yet, set to aweburl if defined
                var cleanerurl = awebcurl.split("?");
                var cleanaurl = cleanerurl[0];
                s.prop74 = awebcurl = cleanaurl;
            }
        }

        if (clickParent === 'section-1310684596002') {
            clickCat = 'get the news you need:';
        } else if (clickParent === 'section-1310677288293') {
            clickCat = 'understand your emc business partner:';
        } else if (clickParent === 'section-1310677339969') {
            clickCat = 'access sales and marketing resources:';
        } else if (clickParent === 'section-1310683995221') {
            clickCat = 'locate training and certification information:';
        } else if (clickParent === 'section-1310684000983') {
            clickCat = 'manage your business:';
        } else if (clickParent === 'section-1310684040048') {
            clickCat = 'services and support delivery resources:';
        } else if (clickParent === 'section-1310685983478') {
            clickCat = 'follow sales communications:';
        } else if (clickParent === 'section-1310677533669') {
            clickCat = 'lead the  sales campaign:';
        } else if (clickParent === 'section-1310677533545') {
            clickCat = 'drive sales programs:';
        } else if (clickParent === 'section-1310685959758') {
            clickCat = 'leverage sales tools & resources:';
        } else if (clickParent === 'section-1310685963305') {
            clickCat = 'enhance your knowledge and skills:';
        } else if (clickParent === 'section-1310685970121') {
            clickCat = 'monitor your salesperformance:';
        } else if (clickParent === 'section-1310690912737') {
            clickCat = 'information on Business Solutions Partner:';
        }

        if(clickedClass != undefined){
            if ( clickedClass == 'hidden-on-mobile color-1') {
                if(clickedTile.find('h2').text() != 'undefined'){
                    s.prop73 = 'header: ' + clickedTile.find('h2').text().toLowerCase().trim();
                }
            } else if (clickedClass.indexOf('promo') > -1) {
                s.prop73 = clickCat + ' ' + clickedTile.find('h2').text().toLowerCase().trim();
            }else if (clickedClass.indexOf('twitter-feed-tile') > -1) {
                s.prop73 = clickCat + ' ' + 'twitter tile';
            } else if (clickedClass.indexOf('style-2') > -1) {
                if(clickedTile.find('a').text() != 'undefined'){
                    s.prop73 = clickCat + ' ' + clickedTile.find('a').text().toLowerCase().trim();
                }
            } else if (clickedClass.indexOf('style-1') > -1) {
                if(clickedTile.find('h3').text() != 'undefined'){
                    s.prop73 = clickCat + ' ' + clickedTile.find('h3').text().toLowerCase().trim();
                }
            } else if (clickedClass.indexOf('tile-carousel-container') > -1) {
                if(clickedTile.find('h3').text() != 'undefined'){
                    s.prop73 = clickCat + ' ' + "clicked carousel";
                }
            } else {
                return;
            }
        }else if (clickedTile.parents('li.quick-links')){
            s.prop73 = clickCat + ' ' + 'quick links' + ' :' + clickTarget.innerText.toLowerCase();
        }

        s.linkTrackVars = 'prop32,prop66,prop73,prop74,eVar7,eVar24,eVar32';
        s.tl(this,'o', s.prop74 + ":" + s.prop73);
    });

    // Track homepage clicks on the homepage regions
    function hpLinkTextTrk(elem, text, hplink) {
        elem.each(function() {
            jQuery(this).click(function() {
                var theText = text;
                theText = theText.replace(/(\r\n|\n|\r)/gm,""); // removes new lines
                theText = theText.replace(/\s+/g, '-');//removes extra spaces
                s.linkTrackVars = 'prop73,prop74,prop66,prop32,eVar7,eVar32,eVar24,';
                s.prop73 = theText;
                if (s.pageName) {
                    s.prop74 = s.pageName;
                } else {
                    if ( typeof (awebcurl) != "undefined") {//If pagename is not defined yet, set to aweburl if defined
                        s.prop74 = awebcurl;
                    }
                }
                s.tl(true, 'o', text + ':' + hplink);
            });
        });
    }

    //Attempt to generalize Function to track clicks and passing a defined value as the text link prop73
    function navLinkTextTrk(elem, text) {
        elem.each(function() {
            jQuery(this).click(function() {
                var theText = text.replace(/(<([^>]+)>)/ig,"");
                s.linkTrackVars = 'prop73,prop74,prop66,prop32,eVar32,eVar7,events';
                s.events = s.linkTrackEvents = "event59,event60";

                if (s.pageName) {
                    s.prop74 = s.pageName;
                } else {
                    if ( typeof (awebcurl) != "undefined") {//If pagename is not defined yet, set to aweburl if defined
                        var cleanerurl = awebcurl.split("?");
                        var cleanaurl = cleanerurl[0];
                        s.prop74 = s.eVar7=s.pageName= awebcurl= cleanaurl;
                    }
                }
                s.prop73 = theText;
                s.tl(true, 'o', s.prop74 + ': ' + s.prop73);
            });
        });
    }

    //not sure where or how used
    function changeEmaillink(elem) {
        elem.attr("href", "http://www.emc.com/")
    }


    //custom link tracking for inbound bar - blue bar on the right f each page - sends in a specific event for the link the user selected
    function navLinkTrkEventInBound(elem, evnt) {
        elem.each(function() {
            jQuery(this).click(function() {
                s = s_gi(s_account);
                s.trackingServer = "ecn-analytics-nssl.emc.com";
                s.trackingServerSecure = "ecn-analytics.emc.com";
                s.trackExternalLinks = "false";
                var theText2 = jQuery(this).text();
                var theText = jQuery.trim(theText2) + ":IB";
                s.linkTrackVars = 'events,prop73,prop74,prop66,prop65,prop32,eVar7,eVar32';
                s.events = s.linkTrackEvents = evnt;

                // Test code for changeing the href for emcinformation
                if (evnt == "event28") {
                //	changeEmaillink(this);
                }

                if (theText.indexOf("Chat") == 0) {
                    theText = "Live Chat Launch:" + theText;
                }//change text to match format of utility bar chat
                s.prop73 = theText;

                if (s.pageName) {
                    s.prop74 = s.pageName;
                } else {
                    if ( typeof (awebcurl) != "undefined") {//If pagename is not defined yet, set to aweburl if defined
                        var cleanerurl = awebcurl.split("?");
                        var cleanaurl = cleanerurl[0];
                        s.prop74 = s.eVar7=s.pageName= awebcurl= cleanaurl;
                    }
                }

                s.prop65 = getTime();

                s.tl(this, 'o', s.prop73 + ':' + s.prop74);
                s.events = "";

            });
        });
    }

    //Tracking inbound bar chat
    function navLinkTrkChat(elem, theText2) {
        elem.each(function() {
            jQuery(this).click(function() {
                s = s_gi(s_account);
                s.trackingServer = "ecn-analytics-nssl.emc.com";
                s.trackingServerSecure = "ecn-analytics.emc.com";
                s.trackExternalLinks = "false";
                //var theText2 = jQuery(this).text();
                var theText = jQuery.trim(theText2) + ":IB";
                s.linkTrackVars = 'events,prop73,prop74,prop66,prop65,prop32,eVar7,eVar32,eVar24';
                s.events = s.linkTrackEvents = 'event75,event60';
                theText = "Live Chat Launch:" + theText;
                s.eVar70 = "ChatType:Reactive";
                if(emclp){
                    s.eVar67 = emclp.livePersonSkill;
                }
                s.prop73 = theText;

                if (s.pageName) {
                    s.prop74 = s.pageName;
                } else {
                    if ( typeof (awebcurl) != "undefined") {//If pagename is not defined yet, set to aweburl if defined
                        var cleanerurl = awebcurl.split("?");
                        var cleanaurl = cleanerurl[0];
                        s.prop74 = s.eVar7=s.pageName= awebcurl= cleanaurl;
                    }
                }
                s.prop65 = getTime();
                s.tl(this, 'o', s.prop73 + ':' + s.prop74);
                s.events = "";

            });
        });
    }

    // AddThis Report event to Omniture
    jQuery(function() {
        var add_button = null;
        if ( typeof (addthis) != "undefined") {
        //	addthis.addEventListener('addthis.menu.share', shareEventHandler);
        }
        jQuery('.ib-tab').mouseover(function() {
            add_button = jQuery(this);
        })
        // AddThis Report event to Omniture
        function shareEventHandler(evt) {
            s = s_gi(s_account);
            s.trackingServer = "ecn-analytics-nssl.emc.com";
            s.trackingServerSecure = "ecn-analytics.emc.com";
            if (evt.type == 'addthis.menu.share') {
                s.trackExternalLinks = "false";
                s.linkTrackVars = 'action,prop73,prop74,prop66,prop65,prop32,eVar32,events';
                s.linkTrackEvents = 'event24';

                s.events = 'event24';
                s.action = evt.data.service;
                var IB = "";
                if (add_button != null) {
                    IB = ":IB:";
                } else {
                    IB = ":UB:";
                }
                add_button = null;
                s.prop73 = evt.data.service + IB;
                if (s.pageName) {
                    s.prop74 = s.pageName;
                } else {
                    if ( typeof (awebcurl) != "undefined") {//If pagename is not defined yet, set to aweburl if defined
                        s.prop74 = awebcurl;
                    }
                }
                s.tl(this, 'o', evt.data.service + IB + s.prop74);
            }
        }
    })

    //Used for share buttons on blue toolbar
    function navLinkTextTrkInBound(elem, text) {
        elem.each(function() {
            jQuery(this).click(function() {
                //var saccount = 'emc-ngoe-perf,emc-global';
                //s = s_gi(s_account);

                s.trackingServer = "ecn-analytics-nssl.emc.com";
                s.trackingServerSecure = "ecn-analytics.emc.com";
                var theText = text + ":IB";
                s.trackExternalLinks = "false";
                s.linkTrackVars = 'events,prop73,prop74,prop66,prop65,prop32,eVar7,eVar32';
                s.linkTrackEvents = s.events = 'event24,event60';
                s.prop73 = theText;

                if (s.pageName) {
                    s.prop74 = s.pageName;
                } else {
                    if ( typeof (awebcurl) != "undefined") {//If pagename is not defined yet, set to aweburl if defined
                        var cleanerurl = awebcurl.split("?");
                        var cleanaurl = cleanerurl[0];
                        s.prop74 = s.eVar7=s.pageName= awebcurl= cleanaurl;
                    }
                }
                s.prop65 = getTime();
                s.tl(true, 'o', s.prop73 + ':' + s.prop74);
                s.prop73 = "";
                s.prop74 = "";
                s.events = "";

            });
        });
    }

    //Utility bar (legacy) was a bar across the top that is similiar to inbound blue bar.  still used on some pages
    function navLinkTrkEventUtilityBar(elem, evnt) {
        elem.each(function() {
            jQuery(this).click(function() {
                s = s_gi(s_account);
                s.trackingServer = "ecn-analytics-nssl.emc.com";
                s.trackingServerSecure = "ecn-analytics.emc.com";
                s.trackExternalLinks = "false";
                var theText2 = jQuery(this).text();
                var theText = jQuery.trim(theText2) + ":UB";
                s.linkTrackVars = 'events,prop73,prop74,prop66,prop65,prop32,eVar7,eVar32';
                s.events = s.linkTrackEvents = evnt+'event60';

                // Test code for changeing the href for emcinformation
                if (evnt == "event28") {
                    changeEmaillink(this);
                }

                if (theText.indexOf("Chat") == 0) {
                    theText = "Live Chat Launch:" + theText;
                }//change text to match format of utility bar chat
                s.prop73 = theText;
                if (s.pageName) {
                    s.prop74 = s.pageName;
                } else {
                    if ( typeof (awebcurl) != "undefined") {//If pagename is not defined yet, set to aweburl if defined
                        var cleanerurl = awebcurl.split("?");
                        var cleanaurl = cleanerurl[0];
                        s.prop74 = s.eVar7=s.pageName= awebcurl= cleanaurl;
                    }
                }
                s.prop65 = getTime();
                s.tl(this, 'o', s.prop73 + ':' + s.prop74);
                s.events = "";

            });
        });
    }

    // Used in delegate functions to track links in playbooks plus a few others
    function navLinkTrk2() {

            s.trackingServer = "ecn-analytics-nssl.emc.com";
            s.trackingServerSecure = "ecn-analytics.emc.com";
            var theText2 = jQuery(this).text();
            var theText = jQuery.trim(theText2);
            theText = theText.replace(/(\r\n|\n|\r)/gm,""); // removes new lines

            theText = theText.replace(/\s+/g, '-');//removes extra spaces
            if(theText == ""){theText = "link text not found";}

            s.linkTrackVars = 'prop73,prop74,prop66,prop32,prop5,eVar7,eVar36,eVar32,events';
            var hrefLink="";
            hrefLink = jQuery(this).attr('href');
            if (typeof(hrefLink) == 'undefined'){hrefLink = "none";}

            if (jQuery(this).hasClass("vid")  ||  jQuery(this).hasClass("video")  || jQuery(this).hasClass("video-link")  || jQuery(this).hasClass("play-video")  ||  jQuery(this).hasClass("play-button") || jQuery(this).hasClass("brightcoveVideo")  ){
                s.events =  s.linkTrackEvents = 'event58,event60';
            }else if (hrefLink.indexOf("store.emc.com")>-1){
                 s.events =  s.linkTrackEvents = 'event62,event60';
            }
            else if (hrefLink.indexOf("shop.dellemc.com")>-1){
                 s.events =  s.linkTrackEvents = 'event62,event60';
            }
             else{
                  s.events =  s.linkTrackEvents = 'event60,event59';
            }
            s.prop73 = theText;
            if ( typeof (awebcurl) != "undefined") {//If pagename is not defined yet, set to aweburl if defined
               var cleanerurl = awebcurl.split("?");//clean query parameters
               var cleananchor = cleanerurl[0];//
               var clean =  cleananchor.split("#");//clean anchor
               var cleanaurl = clean[0];//set cleaned urls as page
               s.prop74 = s.eVar7=s.pageName= awebcurl = cleanaurl ;
            }
            else {
              if (s.pageName) {
                 var cleanerurl = awebcurl.split("?");//clean query parameters
                 var cleananchor = cleanerurl[0];//
                 var clean =  cleananchor.split("#");//clean anchor
                 var cleanaurl = clean[0];//set cleaned urls as page
          		 s.prop74 = s.eVar7=s.pageName= awebcurl= cleanaurl;
               }
            }

            s.tl(true, 'o', s.prop74 + ": " + s.prop73 + ": "+ hrefLink );

    }

    //Tracking social sphere social-emc/social.htm
    function navLinkTrkSocial(event) {

        s.trackingServer = "ecn-analytics-nssl.emc.com";
        s.trackingServerSecure = "ecn-analytics.emc.com";
        s.linkTrackVars = 'prop73,prop74,prop66,prop32,prop5,eVar7,eVar36,eVar32,events';
        s.linkTrackEvents = "event60,event81,event82,event83";
        s.events = "event60";
        var twitterAccount='';
        var twitterText='';
        var youtubeTitle='';
        var theText='';
        var theText2='';
        var targetName = event.target.className;
        var controlName='';
        if (jQuery(this).hasClass("twitter-tile")){

            twitterAccount='';
            twitterText='';
            twitterAccount = jQuery(this).find('h3').text().toLowerCase().trim();
            twitterText = jQuery(this).find('.tweet-text').text().toLowerCase().trim();
            theText = jQuery(this).find('h3').text().toLowerCase().trim() + ":"+ jQuery(this).find('.tweet-text').text().toLowerCase().trim();
            if ( typeof (targetName) != "undefined") {
                if ( targetName.indexOf("reply") >-1 ){
                    controlName = "Reply";
                    theText = controlName+':'+theText;
                    s.events = "event60,event81";
                }
                else if (targetName.indexOf("retweet") >-1 ){
                    controlName = "Retweet";
                    theText = controlName+':'+theText;
                    s.events = "event60,event82";
                }
                else if (targetName.indexOf("star") >-1 ){
                    controlName = "Star";
                    theText = controlName+':'+theText;
                    s.events = "event60,event83";
                }
            }
            s.prop73 = "TW-"+theText;
            if ( typeof (awebcurl) != "undefined") {//If pagename is not defined yet, set to aweburl if defined
                var cleanerurl = awebcurl.split("?");
                var cleanaurl = cleanerurl[0];
                s.prop74 = s.eVar7=s.pageName= awebcurl=cleanaurl ;
            }
            else {
                if (s.pageName) {
                    var cleanerurl = awebcurl.split("?");
                    var cleanaurl = cleanerurl[0];
                    s.prop74 = s.eVar7=s.pageName= awebcurl= cleanaurl;
                }
            }

            s.tl(true, 'o', s.prop74 + ": " + s.prop73);

        }
        else if (jQuery(this).hasClass("youtube-tile")){

            theText =jQuery(this).find('h3').text().toLowerCase().trim();
            if ( typeof (targetName) != "undefined") {
                if ( targetName.indexOf("addthis") >-1 ){
                    controlName = "Share";
                    theText = controlName+':'+theText;
                    s.events = "event60,event24";
                }
            }
            s.prop73 = "YT-"+theText;
            if ( typeof (awebcurl) != "undefined") {//If pagename is not defined yet, set to aweburl if defined
                var cleanerurl = awebcurl.split("?");
                var cleanaurl = cleanerurl[0];
                s.prop74 = s.eVar7=s.pageName= awebcurl=cleanaurl ;
            }
            else {
                if (s.pageName) {
                    var cleanerurl = awebcurl.split("?");
                    var cleanaurl = cleanerurl[0];
                    s.prop74 = s.eVar7=s.pageName= awebcurl= cleanaurl;
                }
            }

            s.tl(true, 'o', s.prop74 + ": " + s.prop73);

        }
    }

    //Tracks links from syndicated Jive integration from playbooks
    function jiveLinkTrk() {

        var theText2 = jQuery(this).text();
        var theText = jQuery.trim(theText2);
        s.linkTrackVars = 'prop73,prop74,prop66,prop32,prop5,eVar7,eVar36,eVar32,eVar33,eVar34,prop33,prop34';

        s.prop33 = s.eVar33 = jQuery(".jive-discussion-info-source").attr('data-discussion-space-id');
        s.prop34 = s.eVar34 = jQuery(".jive-discussion-info-source").attr('data-discussion-tag');
        s.prop73 = theText+":"+s.prop34;

        if (s.pageName) {
            s.prop74 = s.pageName;
        } else {
            if ( typeof (awebcurl) != "undefined") {//If pagename is not defined yet, set to aweburl if defined
                s.prop74 = awebcurl;
            }
        }

        s.tl(true, 'o', s.prop74 + ": " + s.prop73);

    }

    //Used custom link tracking on campaign pages
    function navLinkTextTrk2() {

        s.trackingServer = "ecn-analytics-nssl.emc.com";
        s.trackingServerSecure = "ecn-analytics.emc.com";
        var theText3 = jQuery(this).text();
        var theTexttrim = jQuery.trim(theText3);
        theTexttrim = theTexttrim.replace(/(\r\n|\n|\r)/gm,""); // removes new lines
        theTexttrim = theTexttrim.replace(/[ ]{2,}/gi," ");//removes extra spaces
        if (jQuery(this).attr('href'))
            {var theText2 = jQuery(this).attr('href') + ' - ';}
        else
            {var theText2 = '';}

        var theText = jQuery.trim(theText2);
        s.linkTrackVars = 'prop73,prop74,prop66,prop32,prop5,eVar7,eVar36,eVar32,eVar24,events';
        s.events = s.linkTrackEvents = "event60,event59";
        s.prop73 = theTexttrim + theText;
        if (s.pageName) {
            s.prop74 = s.pageName;
        } else {
            if ( typeof (awebcurl) != "undefined") {//If pagename is not defined yet, set to aweburl if defined
                var cleanerurl = awebcurl.split("?");
                var cleanaurl = cleanerurl[0];
                s.prop74 = s.eVar7=s.pageName= awebcurl= cleanaurl;
            }
        }

        s.tl(true, 'o', s.prop74 + ": " + s.prop73);

    }

    //Used to capture the interactive item -radial dial on the Flash campaign page emc.com/flash
    function navFlashInteractive() {

        s.trackingServer = "ecn-analytics-nssl.emc.com";
        s.trackingServerSecure = "ecn-analytics.emc.com";
        var theText2 = jQuery(this).attr('title');
        var theText = jQuery.trim(theText2);
        s.linkTrackVars = 'prop73,prop74,prop66,prop32,prop5,eVar7,eVar36,eVar32,events';
        s.events = s.linkTrackEvents = "event60,event59";
        s.prop73 = theText;
        if (s.pageName) {
            s.prop74 = s.pageName;
        } else {
            if ( typeof (awebcurl) != "undefined") {//If pagename is not defined yet, set to aweburl if defined
                var cleanerurl = awebcurl.split("?");
                var cleanaurl = cleanerurl[0];

                s.prop74 = awebcurl = cleanaurl;
            }

        }

        s.tl(true, 'o', s.prop74 + ": " + s.prop73);
    }

    function navLinkTrk(elem) {
        elem.each(function() {
            jQuery(this).on('click', function() {  //TB UPDATE
                s.trackingServer = "ecn-analytics-nssl.emc.com";
                s.trackingServerSecure = "ecn-analytics.emc.com";
                var theText2 = jQuery(this).text();
                var theText = jQuery.trim(theText2);
                s.linkTrackVars = 'prop73,prop74,prop66,prop32,prop5,eVar7,eVar36,eVar32,events';
                s.events = s.linkTrackEvents = "event60";
                s.prop73 = theText;
                if (s.pageName) {
                    s.prop74 = s.pageName;
                } else {
                    if ( typeof (awebcurl) != "undefined") {//If pagename is not defined yet, set to aweburl if defined
                        var cleanerurl = awebcurl.split("?");
                        var cleanaurl = cleanerurl[0];
                        s.prop74 = s.eVar7=s.pageName= awebcurl = cleanaurl;
                    }
                }

                s.tl(true, 'o', s.prop74 + ": " + s.prop73);
            });
        });
    }

    function navLinkTrkTextEvent(elem, text, evnt) {
        elem.each(function() {
            jQuery(this).click(function() {
                s.trackingServer = "ecn-analytics-nssl.emc.com";
                s.trackingServerSecure = "ecn-analytics.emc.com";
                s.trackExternalLinks = "false";
                var theText = text;
                s.linkTrackVars = 'events,prop73,prop74,prop66,prop32,eVar7,eVar32,eVar70,eVar67';
                if(evnt =="event75"){
                     s.eVar70 = "ChatType:Reactive:Inline";
                     if(emclp){
                        s.eVar67 = emclp.livePersonSkill;
                     }
                }

                s.events = s.linkTrackEvents = evnt+',event60';
                s.prop73 = theText;
                if (s.pageName) {
                    s.prop74 = s.pageName;
                } else {
                    if ( typeof (awebcurl) != "undefined") {//If pagename is not defined yet, set to aweburl if defined
                        var cleanerurl = awebcurl.split("?");
                        var cleanaurl = cleanerurl[0];
                        s.prop74 = s.eVar7=s.pageName= awebcurl = cleanaurl;
                    }
                }
                s.tl(this, 'o', s.prop74 + ": " + s.prop73);
            });
        });
    }

    function navLinkTrkTextEvent2(elem, text, evnt) {
        elem.each(function() {
            jQuery(this).on('click', elem,function() {
                s.trackingServer = "ecn-analytics-nssl.emc.com";
                s.trackingServerSecure = "ecn-analytics.emc.com";
                s.trackExternalLinks = "false";
                var theText = text;
                s.linkTrackVars = 'events,prop73,prop74,prop66,prop32,eVar7,eVar32';
                if(evnt =="event75"){
                     s.eVar70 = "ChatType:Reactive:Inline";
                     if(emclp){
                        s.eVar67 = emclp.livePersonSkill;
                     }
                }

                s.events = s.linkTrackEvents = evnt+',event60';
                s.prop73 = theText;
                if (s.pageName) {
                    s.prop74 = s.pageName;
                } else {
                    if ( typeof (awebcurl) != "undefined") {//If pagename is not defined yet, set to aweburl if defined
                        var cleanerurl = awebcurl.split("?");
                        var cleanaurl = cleanerurl[0];
                        s.prop74 = s.eVar7=s.pageName= awebcurl = cleanaurl;
                    }
                }
                s.tl(this, 'o', s.prop74 + ": " + s.prop73);
            });
        });
    }

    //Used primarily for Utility bar tracking.  utility bar is phasing out
    function navLinkTrkEvent(elem, evnt) {
        elem.each(function() {
            jQuery(this).click(function() {
                s = s_gi(s_account);
                s.trackingServer = "ecn-analytics-nssl.emc.com";
                s.trackingServerSecure = "ecn-analytics.emc.com";
                s.trackExternalLinks = "false";
                var theText2 = jQuery(this).text();
                var theText = jQuery.trim(theText2);
                s.linkTrackVars = 'events,prop73,prop74,prop66,prop32,eVar7,eVar32';
                s.events = evnt;
                s.linkTrackEvents = evnt;
                s.prop73 = theText;
                if (s.pageName) {
                    s.prop74 = s.pageName;
                } else {
                    if ( typeof (awebcurl) != "undefined") {//If pagename is not defined yet, set to aweburl if defined
                        var cleanerurl = awebcurl.split("?");
                        var cleanaurl = cleanerurl[0];
                        s.prop74 = s.eVar7=s.pageName= awebcurl = cleanaurl;
                    }
                }
                s.tl(this, 'o', s.prop74 + ": " + s.prop73);
            });
        });
    }

    //Listens for the acknowledgement of Terms and conditions on certain downloads
    function navLinkTacYTrk(elem) {
        elem.each(function() {
            jQuery(this).click(function() {
                s.trackingServer = "ecn-analytics-nssl.emc.com";
                s.trackingServerSecure = "ecn-analytics.emc.com";
                var theText2 = jQuery(this).text();
                var theText = jQuery.trim(theText2);
                s.linkTrackVars = 'prop73,prop74,prop66,prop32,eVar24,eVar32,eVar50,eVar51,eVar19,eVar7';
                s.prop73 = "TAC:" + theText + ":" + s.eVar35;
                s.prop74 = s.pageName;
                s.tl(true, 'o', s.pageName + ": " + s.prop73);
            });
        });
    }

    //Listens for the acknowledgement of Terms and conditions Cancel on downloads
    function navLinkTacNTrk(elem) {
        elem.each(function() {
            jQuery(this).click(function() {
                s.trackingServer = "ecn-analytics-nssl.emc.com";
                s.trackingServerSecure = "ecn-analytics.emc.com";
                var theText2 = jQuery(this).text();
                var theText = jQuery.trim(theText2);
                s.linkTrackVars = 'prop73,prop74,prop66,prop32,eVar24,eVar32,eVar50,eVar51,eVar8,eVar7';
                s.prop73 = "TAC:" + theText + ":" + s.eVar35;
                s.prop74 = s.pageName;
                s.tl(true, 'o', s.pageName + ": " + s.prop73);
            });
        });
    }

    //Tracks dynamica clicks as pages.  used mostly in playbooks
    function navPageTrk2(elem) {
        elem.each(function() {
            jQuery(this).click(function() {
                var theText2 = jQuery(this).text();
                var theText = jQuery.trim(theText2);
                var pagelocation="";
                if (location) {
                    pagelocation = location.pathname;
                    theText = pagelocation+":"+theText;
                }
                s.pageName = s.eVar7 = theText;
                s.prop73 = "";
                s.prop74 = "";
                s.t();
            });
        });
    }

    function navPageTrk(elem) {
        elem.each(function() {
            jQuery(this).click(function() {
                // s.trackingServer = "ecn-analytics-nssl.emc.com";
                // s.trackingServerSecure = "ecn-analytics.emc.com";
                var theText2 = jQuery(this).text();
                var theText = jQuery.trim(theText2);
                var pagelocation="";
                if (location) {
                    pagelocation = location.pathname;
                    theText = pagelocation+":"+theText;
                }
                s.pageName = s.eVar7 = "Sales:" + pagelocation + theText;
                s.prop73 = "";
                s.prop74 = "";
                s.t();
            });
        });
    }

    function navPageTrkSWD(elem) {
        elem.each(function() {
            jQuery(this).click(function() {
                s.trackingServer = "ecn-analytics-nssl.emc.com";
                s.trackingServerSecure = "ecn-analytics.emc.com";
                // if(awebcurl){s.pageName = awebcurl;}
                var theLnk = jQuery(this).children().attr("href");
                if ((theLnk.indexOf("http") >= 0) && (theLnk.indexOf("emc.com") == -1)) {
                    if (theLnk.indexOf("syncplicity") > -1) {
                        s.eVar5 = "SWD_syncplicity_trialsoftware"
                    }
                    if (theLnk.indexOf("datadomain") > -1) {
                        s.eVar5 = "SWD_DDMC_trialsoftware"
                    }
                    if (theLnk.indexOf("gopivotal") > -1) {
                        s.eVar5 = "SWD_pivotal_trialsoftware"
                    }


                    var theText2 = jQuery(this).text();
                    var theText = jQuery.trim(theText2);
                    s.eVar7 = s.pageName;
                    s.prop73 = "";
                    s.prop74 = "";
                    s.t();
                }
            });
        });
    }

    //Page tracker.  pass in prefix for pagename
    function navPageTextTrk(elem, prefix, area) {
        elem.each(function() {
            jQuery(this).click(function() {
                s.trackingServer = "ecn-analytics-nssl.emc.com";
                s.trackingServerSecure = "ecn-analytics.emc.com";

                if ( typeof (awebcurl) != "undefined") {//If pagename is not defined yet, set to aweburl if defined
                    prefix= awebcurl+":"+prefix;
                }

                var theText2 = jQuery(this).text();
                var theText = jQuery.trim(theText2);
                if ( typeof (area) != "undefined") {
                    var tempName = s.eVar7 = s.pageName + ":" + prefix;
                    if (area == 'sso') {
                        s.pageName = s.eVar7 = tempName;
                    }
                } else {
                    s.pageName = s.eVar7 = prefix + ":" + theText;
                }
                s.prop73 = "";
                s.prop74 = "";
                s.t();
            });
        });
    }

    //Page tracker.  pass in prefix for pagename used on various pages
    function navPageLnkTextTrk(elem, prefix) {
        elem.each(function() {
            jQuery(this).click(function() {
                s.trackingServer = "ecn-analytics-nssl.emc.com";
                s.trackingServerSecure = "ecn-analytics.emc.com";
                var theLnkText = jQuery(this).attr("href");
                s.pageName = s.eVar7 = prefix + theLnkText;
                s.prop73 = "";
                s.prop74 = "";
                s.t();
            });
        });
    }

    //HomePage Region Tracking - capture the areas clicked and pass via click tracking
    if (awebcurl.indexOf("index.htm") != -1) {
        var hpHerolnk = jQuery('a#hp-leadspace-link,div.homepage-view a').attr('href');
        //	var hpHeroBox = 'HP:HERO:' + jQuery('div.hp-button.hp-button-outline-blue').text().trim();

        //	var hpHeroBox = jQuery.trim( 'HP:HERO:' + jQuery('div.hp-button.hp-button-outline-blue,div.leadspace-header h2').text() );
        var tmphpHeroBox = jQuery.trim( 'HP:HERO:' + jQuery('div.hp-button.hp-button-outline-blue,div.leadspace-header h2').text() );
        tmphpHeroBox = tmphpHeroBox.replace(/(\r\n|\n|\r)/gm,""); // removes new lines
        tmphpHeroBox = tmphpHeroBox.replace(/\s+/g, '-');//removes extra spaces

        var hpHeroBox = tmphpHeroBox;
        var hpBox1 = 'HP:BOX1:' + jQuery('h2#hp-box-1-title,ul li:nth-child(1) div.promo-view h2').text();
        var hpBox2 = 'HP:BOX2:' + jQuery('h2#hp-box-2-title,ul li:nth-child(2) div.promo-view h2').text();
        var hpBox3 = 'HP:BOX3:' + jQuery('h2#hp-box-3-title,ul li:nth-child(3) div.promo-view h2').text();
        var hpBox4 = 'HP:BOX4:' + jQuery('h2#hp-box-4-title,ul li:nth-child(4) div.promo-view h2').text();
        //HEADER

        //hpLinkTextTrk(jQuery('div#hp-leadspace,div.homepage-view'), hpHeroBox, hpHerolnk);
        //Hero Track
        //Box Descriptions
        hpLinkTextTrk(jQuery('ul#hp-boxes li#hp-box-1.hp-box,ul li:nth-child(1) div.promo-view'), hpBox1, jQuery('a#hp-box-1-url,ul li:nth-child(1) div.promo-view a').attr('href'));
        //hpLinkTextTrk(jQuery('div.promo-view'), hpBox1, jQuery('a#hp-box-1-url').attr('href'));
        //Box 1 Track
        hpLinkTextTrk(jQuery('ul#hp-boxes li#hp-box-2.hp-box,ul li:nth-child(2) div.promo-view'), hpBox2, jQuery('a#hp-box-2-url,ul li:nth-child(2) div.promo-view a').attr('href'));
        //Box 2 Track
        hpLinkTextTrk(jQuery('ul#hp-boxes li#hp-box-3.hp-box,ul li:nth-child(3) div.promo-view'), hpBox3, jQuery('a#hp-box-3-url,ul li:nth-child(3) div.promo-view a').attr('href'));
        //Box 3 Track
        hpLinkTextTrk(jQuery('ul#hp-boxes li#hp-box-4.hp-box,ul li:nth-child(4) div.promo-view'), hpBox4, jQuery('a#hp-box-4-url,ul li:nth-child(4) div.promo-view a').attr('href'));
        //Box 4 Track

        //Header links
    }

    //Forums tab using delegate
    jQuery("div#tabMenu").on("click", "div#tabMenu li.active a", navLinkTrk2);
    jQuery("ul#leadSpaceTabs").on("click","ul#leadSpaceTabs li", navLinkTrk2);
    jQuery("ul#mainTabs").on("click", "ul#mainTabs li a",navLinkTrk2);
    jQuery("div.verticalTabs").on("click", "div.verticalTabs ul li",navLinkTrk2);

    jQuery("div.side-nav-wrapper").on("click", ".side-nav li",navLinkTrk2);
    //jQuery(".side-nav").delegate("ul#sideNav.side-nav li.selected a", "click", navLinkTrk2);
    jQuery(".tabs").on("click", ".tabs li a", navLinkTrk2);

    jQuery("div .card-title").on("click", "div .card-title", navLinkTrk2);
    jQuery(".play-categories .tab-menu").on("click", ".play-categories .tab-menu",navLinkTrk2);
    jQuery(".tabTopBar").on("click",".tabTopBar a", navLinkTrk2);
    jQuery(".accordionToggle .accordionInner .floatLeft").on("click", ".accordionToggle .accordionInner .floatLeft",navLinkTrk2);

    // jQuery("div.ib-chat-form").delegate("a.ib-chat-start-button span", "click", setChatVars);
    jQuery(document).on("click", "a.ib-chat-start-button span",setChatVars);

    //SWD page
    navPageTrkSWD(jQuery('h3.prod-title'));
    //Converts external link to page hit for SWD center

    jQuery(".loc_details").on("click", "li .loc_details", navLinkTrk2);
    //force.com location details
    //track MAP on flash page

    jQuery("map[name=flash1026] area").click(navFlashInteractive);
    //Speed 2 Lead Clicks
    navLinkTextTrk(jQuery('div#calBtn1 div.calBtn'), 'Americas');
    //Add to calendar
    navLinkTextTrk(jQuery('div#calBtn2 div.calBtn'), 'EMEA');
    //Add to calendar
    navLinkTextTrk(jQuery('div#calBtn3 div.calBtn'), 'AsiaWest');
    //Add to calendar
    navLinkTextTrk(jQuery('div#calBtn4 div.calBtn'), 'AsiaEast');
    //Add to calendar
    navLinkTextTrk(jQuery('div#calBtn5 div.calBtn'), 'APJ');
    //Add to calendar for APJ page
    //navLinkTrk(jQuery('span#atedrop1-drop'));
    //individual calendar types

    //Redefine Possible page calendar downloads
    if (locations.toLowerCase().indexOf("redefinepossible/") != -1) {
        var calSelector = "span#atedrop1-drop";
        navLinkTextTrk(jQuery('span#atedrop1-drop'), "CALENDAR:Europe, Middle East & Africa");
        navLinkTextTrk(jQuery('span#atedrop2-drop'), "CALENDAR:Americas");
        navLinkTextTrk(jQuery('span#atedrop3-drop'), "CALENDAR:Asia Pacific & Japan");
    }

    if (locations.toLowerCase().indexOf("playbooks") > -1 || locations.toLowerCase().indexOf("auth/rpage") > -1) {
        //Sales PlayBook
        //navLinkTrk(jQuery('.playbook-section'));
        //SalesPlaybook Main Nav
        navPageTrk(jQuery('ul.subnav li a'));
        //Page view for Sales Playbook based on subnav
        navPageTrk(jQuery('#site-nav li#playbooks-link'));
        navPageTrk2(jQuery('ul#sideNav.side-nav li a'));
        //Page view for Playbook link
        navPageTrk(jQuery('#site-nav li#resources-link'));
        //Page view for Resources link
        navPageTrk(jQuery('.briefcase-overlay #resources-by-play .play-category > ul li.closed'));
        //Accordion expands
        navPageTrk(jQuery('.briefcase-overlay #resources-by-play .play-category ul li.open > h3'));
        //Accordion expands
        navPageTextTrk(jQuery('div.panel-content .circle-arrow'), 'Home Center Arrow');
        //Downward arrow

        jQuery(document).on("click", "ul.play-choices h3", navLinkTrk2);
        jQuery(document).on("click", "div.card-title", navLinkTrk2);
        jQuery(document).on("click", ".play-categories .tab-menu",navLinkTrk2);
        jQuery(document).on("click", "div.accordion-title",navLinkTrk2);
        jQuery(document).on("mousedown", ".jive-discussion-info-source",jiveLinkTrk);

    }
    //SSO Login
    navLinkTrk(jQuery('div#rtForgotPassword'));
    //Forgot Password link modal
    navLinkTrk(jQuery('a.first'));
    //customer register link modal
    navLinkTrk(jQuery('a.second'));
    //instructions

    //Partner Portal
    //    Partner Tiles
    if ((locations.toLowerCase().indexOf("auth/partnerportal.htm") > -1) || (locations.toLowerCase().indexOf("auth/salesportal.htm")) > -1) {
        navLinkTrk(jQuery('div.partner-site-wrapper a,div.text-wrapper h3.title span, ul li.style-2'));
        //Partner window click
        //navLinkTrk(jQuery('div.trigger-wrapper a.expand-collapse-trigger active'));
        //expand and contract window
        navLinkTrk(jQuery('li .list-view'));
        navLinkTrk(jQuery('li .grid-view'));

    }

    //Downloads for Campaign Library Download
    jQuery(".dwl-list").on( "mousedown","ul.dwl-list li a", navLinkTextTrk2);

    //BigData Explorer
    navPageTextTrk(jQuery('.label--star'), 'microsites/big-data-explorer/index.htm');
    //Page view for BigData Explorer - stars
    navPageTextTrk(jQuery('.label--planet'), 'microsites/big-data-explorer/index.htm');
    //Page view for BigData Explorer - planets
    navPageLnkTextTrk(jQuery('.star'), 'microsites/big-data-explorer/index.htm');
    //Page view for BigData Explorer - stars
    navPageLnkTextTrk(jQuery('.planet'), 'microsites/big-data-explorer/index.htm');
    //Page view for BigData Explorer - planets
    navLinkTrk(jQuery('.share-control__tw'));
    //Big Data share twitter
    navLinkTrk(jQuery('.share-control__fb'));
    //Big Data share facebook
    navLinkTrk(jQuery('.share-control__in'));
    //Big Data share linked in

    //Terms and Conditions
    navLinkTacYTrk(jQuery('a.lnk-accepted-agreement .button-label'));
    navLinkTacNTrk(jQuery('a.lnk-cancel-agreement .button-label'));

    //Share Stuff
    navLinkTextTrk(jQuery('div.socialmediabar a'), 'Share');
    //Add to calendar

    navLinkTrk(jQuery('li.filterListTag a.filterLink'));
    //filter on site
    //       }

    //Utility Bar
    navLinkTrkEvent(jQuery('div.page-utility-bar li#requestQuoteUtilityLink'), 'event74');
    navLinkTrkEvent(jQuery('div.page-utility-bar a.contact-us-link'), 'event22');

    //TRACK INBOUND BAR
    navLinkTrkChat(jQuery('li.ib-icon-sales-chat'), 'Chat with Sales');
    //Selected Sales Chat
    navLinkTrkChat(jQuery('li.ib-icon-support-chat'),'Chat with Support');
    //Selected Support Chat
    navLinkTrkEventInBound(jQuery('li.ib-icon-request-quote'), 'event74');

    //Tracking email us
    jQuery(document).on('mousedown','li.ib-icon-email-us', function() {
        s = s_gi(s_account);
        s.trackingServer = "ecn-analytics-nssl.emc.com";
        s.trackingServerSecure = "ecn-analytics.emc.com";
        s.trackExternalLinks = "false";
        var theText2 = jQuery(this).text();
        var theText = jQuery.trim(theText2) + ":IB";
        s.linkTrackVars = 'events,prop73,prop74,prop66,prop65,prop32,eVar7,eVar32';
        s.events = s.linkTrackEvents = 'event28';

        s.prop73 = theText;

        if (s.pageName) {
            s.prop74 = s.pageName;
        } else {
            if ( typeof (awebcurl) != "undefined") {//If pagename is not defined yet, set to aweburl if defined
                var cleanerurl = awebcurl.split("?");
                var cleanaurl = cleanerurl[0];
                s.prop74 = s.eVar7=s.pageName= awebcurl= cleanaurl;
            }
        }

        s.prop65 = getTime();

        s.tl(this, 'o', s.prop73 + ':' + s.prop74);
        s.events = "";
    });


    //Selected Email Sales
    navLinkTrkEventInBound(jQuery('li.ib-icon-phone'), 'event73');
    //Selected Phone

    navLinkTextTrkInBound(jQuery('div.ib-content-inner a.ib-button-emcsocial'), 'EMCSocial');
    //EMC Social
    //Inbound Toolbar END

    //SSO page
    navPageTextTrk(jQuery('td.x-btn-mc'), jQuery('li.bgsel span').text(), 'sso');

    if (locations.toLowerCase().indexOf("emcworld.com") != -1 || locations.toLowerCase().indexOf("emcworld/virtual") != -1) {
        //TRACK INBOUND EMCWorldBAR
        navLinkTextTrkInBound(jQuery('div#share-bar a.addthis_button_facebook'), 'Facebook:EMCWorld');
        //Facebook
        navLinkTextTrkInBound(jQuery('div#share-bar a.addthis_button_twitter'), 'Twitter:EMCWorld');
        //Twitter
        navLinkTextTrkInBound(jQuery('div#share-bar a.addthis_button_google_plusone_share'), 'GooglePlus:EMCWorld');
        //GooglePlus
        navLinkTextTrkInBound(jQuery('div#share-bar a.addthis_button_linkedin'), 'LinkedIn:EMCWorld');
        //LinkedIn
        navLinkTextTrkInBound(jQuery('div#share-bar a.ib-button-ecn'), 'ECN:EMCWorld');
        //ECN
        navLinkTextTrkInBound(jQuery('div#share-bar a.addthis_button_compact'), 'More:EMCWorld');
        //More
        navLinkTextTrkInBound(jQuery('div#share-bar a.ib-button-emcsocial'), 'EMCSocial:EMCWorld');
        //EMC Social
        //Inbound Toolbar END
    }

    //How to buy chat
    if  (aURL.toLowerCase().indexOf("how-to-buy") > 0) {
        navLinkTrk(jQuery('a#_lpChatBtn'));
    }

    //VMKO site click tracking
    if  (aURL.toLowerCase().indexOf("/vmko") > 0) {
        jQuery(document).on( 'mousedown', 'a',navLinkTrk2);
    }

    if  (aURL.toLowerCase().indexOf("/cloud") > 0) {
        //live chat button bottom of cloud page
    //	navLinkTrkTextEvent(jQuery('a.live-chat'), 'Live Chat Launch:Cloud footer', 'event75');
    //	navLinkTrkTextEvent(jQuery('a.email-us'), 'Contact Us:Cloud footer', 'event22');
    //	navLinkTrkTextEvent(jQuery('a.see-store'), 'Request a Quote:Cloud footer', 'event74');
    //	navLinkTrkTextEvent(jQuery('li#tt-contact-bar-partner'), 'Contact Partner:Cloud footer', 'event51');

        //Cloud page tracking
    //	navLinkTextTrk(jQuery('div.hero-container p.next'), 'Cloud Arrow');
        navLinkTrk(jQuery('div.pagination-wrap ul li a span'));
        navLinkTrk(jQuery('#rollout-tab, #scaleout-tab, #manageability-tab, #youcentric-tab, #itoptimization-tab, #vdimanagement-tab, #remotevirtualization-tab, #hybridclouddeployment-tab, a.assessLink, div.VSPEX_Button2'));

        jQuery(document).on('click','a.subNavTopLink,#tt-blade-06-link-01,#tt-blade-06-link-02,#tt-blade-06-link-03,.column-content a.arrow-right,.menu a,a.btn-subnav', navLinkTrk2);  //New Cloud pages
        jQuery(document).on('click','#tt-blade-05-button,div.white-button.more-buttons a,a.button,.button.cta,article.listings a,a.btn-primary,div.accordion-trigger,div.overlay-trigger,a.cta-primary,a.cta-tertiary,a.btn-senary,div.multichip-item-wrapper', navLinkTrk2);  //New Cloud buttons
        jQuery(document).on('click','.play-video,.play-button', navLinkTrk2);  //New Cloud pages videos

        /*jQuery(document).on('mousedown', '.preview, .box-inner .preview',function() {
            s = s_gi(s_account);
            s.trackingServer = "ecn-analytics-nssl.emc.com";
            s.trackingServerSecure = "ecn-analytics.emc.com";
            //s.trackExternalLinks = "true";
            var theText2 = jQuery(this).attr('href');
            var theText = jQuery.trim(theText2);
            theText = theText.replace(/(\r\n|\n|\r)/gm,""); // removes new lines
            theText = theText.replace(/[ ]{2,}/gi," ");//removes extra spaces
            s.linkTrackVars = 'events,prop73,prop74,prop66,prop65,prop32,eVar7,eVar32';
            s.events = s.linkTrackEvents = "event60";
            s.prop73 = theText.toLowerCase();

            if (s.pageName) {
                s.prop74 = s.pageName;
            } else {
                if ( typeof (awebcurl) != "undefined") {//If pagename is not defined yet, set to aweburl if defined
                    var cleanerurl = awebcurl.split("?");
                    var cleanaurl = cleanerurl[0];
                    s.prop74 = s.eVar7=s.pageName= awebcurl= cleanaurl;
                }
            }

            s.prop65 = getTime();

            s.tl(this, 'o', s.prop73 + ':' + s.prop74);
            s.events = "";

        });*/
    }

    if  (aURL.toLowerCase().indexOf("/converged-infrastructure") > 0) {

        jQuery(document).on('mousedown','li.slide',navLinkTrk2);
        //live chat button bottom of flash page
        navLinkTrkTextEvent(jQuery('li#tt-contact-bar-chat,li.live-chat,a.contact-livechat'), 'Live Chat Launch:Footer', 'event75');
        navLinkTrkTextEvent(jQuery('li#tt-contact-bar-email,li.contact-us,a.contact-email'), 'Contact Us:Footer', 'event22');
        navLinkTrkTextEvent(jQuery('li#tt-contact-bar-store,li.store'), 'Request a Quote:Footer', 'event74');
        navLinkTrkTextEvent(jQuery('a.contact-call'), 'Call Us:Footer', 'event73');

        //Assesment
    //	jQuery(document).delegate("a#tt_fl-link-11-01.button,a.btn-tertiary,a.btn-primary,div.brightcoveVideo,a.cta,div.accordion-trigger,div.link-box a,div.blue-buttom a,div.headline-v2-view div.rte a,li a.btn-multilink-v2","mousedown", navLinkTrk2);

        navLinkTextTrk(jQuery('.FA_Answers'), 'FA_Answers');
        //All other links on pages
        jQuery(document).on('click','div.flash-product ul li a,.explore,div.more-buttons a,div.slick-slide a,div.slick-slide div.more-buttons a,button.slick-prev,button.slick-next,ul.subNavTop a, a.btn-subnav', navLinkTrk2);

    }

    if  (aURL.toLowerCase().indexOf("/flash") > 0 || aURL.toLowerCase().indexOf("/discover-flash-storage") > 0) {
        jQuery(document).on('click', 'li.slide', navLinkTrk2);
        //live chat button bottom of flash page
        navLinkTrkTextEvent(jQuery('li#tt-contact-bar-chat,a.contact-livechat'), 'Live Chat Launch:Flash footer', 'event75');
        navLinkTrkTextEvent(jQuery('li#tt-contact-bar-email,a.contact-email'), 'Contact Us:Flash footer', 'event22');
        navLinkTrkTextEvent(jQuery('li#tt-contact-bar-store'), 'Request a Quote:Flash footer', 'event74');
        navLinkTrkTextEvent(jQuery('a.contact-call'), 'Call Us:Footer', 'event73');

        //Assesment
        jQuery(document).on('mousedown','a#tt_fl-link-11-01.button,.btn-primary,div.brightcoveVideo,a.cta,div.accordion-trigger,div.link-box a,div.blue-buttom a,a.cta-primary',  navLinkTrk2);
        navLinkTextTrk(jQuery('.FA_Answers'), 'FA_Answers');
        //All other links on pages
        jQuery(document).on('click','div.flash-product ul li a, .explore,div.more-buttons a,div.slick-slide a,div.slick-slide div.more-buttons a, button.slick-prev,button.slick-next,ul.subNavTop a,div.rte a', navLinkTrk2);
        navLinkTrkTextEvent(jQuery('div.image-chip'), jQuery('div.image-chip div').attr("title"), 'event59');
    }

    if  (aURL.toLowerCase().indexOf("microsites/connections-education-xtremio-all-flash-array") > 0 ) {
        jQuery(document).on('click', 'li.slide', navLinkTrk2);
        //live chat button bottom of flash page

        //Assesment
        jQuery(document).on("mousedown","div.nav-item", navLinkTrk2); //TB
    }

    if  (aURL.toLowerCase().indexOf("/xtremio") > 0) {

        navLinkTrkTextEvent(jQuery('li#tt-contact-bar-chat'), 'Live Chat Launch:xtremio footer', 'event75');
        navLinkTrkTextEvent(jQuery('li#tt-contact-bar-email'), 'Contact Us:xtremio footer', 'event22');
        navLinkTrkTextEvent(jQuery('li#tt-contact-bar-store'), 'Request a Quote:xtremio footer', 'event74');
        jQuery(document).on('click','a.button,.btn-primary,div.brightcoveVideo,a.cta,div.accordion-trigger', navLinkTrk2); //TB
        jQuery(document).on('click','a.subNavTopLink', navLinkTrk2);
        // jQuery(document).delegate('div.box-inner a.preview', 'mousedown', navLinkTextTrk2);

        //Xtremio page tiles on storage-xtremio
        jQuery(document).on('mousedown','.preview, .box-inner .preview',function() {
            s = s_gi(s_account);
            s.trackingServer = "ecn-analytics-nssl.emc.com";
            s.trackingServerSecure = "ecn-analytics.emc.com";
            //s.trackExternalLinks = "true";
            var theText2 = jQuery(this).attr('href');
            var theText = jQuery.trim(theText2);
            s.linkTrackVars = 'events,prop73,prop74,prop66,prop65,prop32,eVar7,eVar32';
            s.events = s.linkTrackEvents = "event60";
            s.prop73 = theText.toLowerCase();

            if (s.pageName) {
                s.prop74 = s.pageName;
            } else {
                if ( typeof (awebcurl) != "undefined") {//If pagename is not defined yet, set to aweburl if defined
                    var cleanerurl = awebcurl.split("?");
                    var cleanaurl = cleanerurl[0];
                    s.prop74 = s.eVar7=s.pageName= awebcurl= cleanaurl;
                }
            }

            s.prop65 = getTime();

            s.tl(this, 'o', s.prop73 + ':' + s.prop74);
            s.events = "";
        });
    }

    //VNX pages click tracking
    if  (aURL.toLowerCase().indexOf("storage/vnx.htm") > 0) {
        // navLinkTrkTextEvent(jQuery('figure.series'), jQuery('h3.series-name').text(),'event60');
        jQuery(document).on('mousedown','figure.series', navLinkTextTrk2);
    }

    if  (aURL.toLowerCase().indexOf("/big-data") > 0) {
        //live chat button bottom of flash page
        navLinkTrkTextEvent2(jQuery('li#tt-contact-bar-chat-1, .contact-bar-chat, .item .live-chat, .item.live-chat'), 'Live Chat Launch:Big Data footer', 'event75');
        navLinkTrkTextEvent(jQuery('li#tt-contact-bar-email-1, .contact-bar-email, .item .contact-us'), 'Contact Us:Big Data footer', 'event22');
        navLinkTrkTextEvent(jQuery('li#tt-contact-bar-store-1'), 'Request a Quote:Big Data footer', 'event74');

        jQuery('div.bottom_toolbar').on('mousedown', 'div.tabToolbarButton', navLinkTextTrk2);
        jQuery('div.map-dashboard').on('mousedown', 'div.dashboard-selector ul span.holder li, .tabItem a', navLinkTextTrk2); //Inspiration selector
        jQuery("div#tt-fl-emc-wrapper").on('mousedown', 'div.expand-link a', navLinkTextTrk2); //Expand and contract
        jQuery('table').on('mousedown', 'div.corset table tbody tr td', navLinkTrk2);//tabs in big data
        jQuery(".slider").on('click', '.slick-prev, .slick-next', navLinkTrk2);  //Left Right Arrows
        jQuery(document).on('click', '.button.cta,.btn-primary,div.brightcoveVideo,a.cta,div.accordion-trigger', navLinkTrk2);//TB

        jQuery(document).on('mousedown','.preview, .blue-button a, .box-inner .preview', function() {
            s = s_gi(s_account);
            s.trackingServer = "ecn-analytics-nssl.emc.com";
            s.trackingServerSecure = "ecn-analytics.emc.com";
            //s.trackExternalLinks = "true";
            var theText2 = jQuery(this).attr('href');
            var theText = jQuery.trim(theText2);
            s.linkTrackVars = 'events,prop73,prop74,prop66,prop65,prop32,eVar7,eVar32';
            s.linkTrackEvents = "event60";
            s.events = "event60";
            s.prop73 = theText.toLowerCase();

            if (s.pageName) {
                s.prop74 = s.pageName;
            } else {
                if ( typeof (awebcurl) != "undefined") {//If pagename is not defined yet, set to aweburl if defined
                    var cleanerurl = awebcurl.split("?");
                    var cleanaurl = cleanerurl[0];
                    s.prop74 = s.eVar7=s.pageName= awebcurl= cleanaurl;
                }
            }

            s.prop65 = getTime();

            s.tl(this, 'o', s.prop73 + ':' + s.prop74);
            s.events = "";
        });
    }

    if  (aURL.toLowerCase().indexOf("products-solutions/index.htm") > 0) {
        jQuery(document).on( 'mousedown', 'div#content a,div#content .simulatedA',navLinkTrk2);
    }

    if  (aURL.toLowerCase().indexOf("social-emc") > 0) {
        jQuery('div#socialsphere').on( 'mousedown', 'div.twitter-tile, div.youtube-tile', navLinkTrkSocial);
        jQuery(document).on( 'mousedown', 'div#blog-categories li a, article a, a.customize, a.connect', navLinkTrk2);
        jQuery('a.fa-stack').on('mousedown', '.fa-twitter,.fa-facebook,.fa-google-plus,.fa-linkedin,.fa-youtube', function() {
 			// var s=s_gi(s_account);
 			s.trackingServer = "ecn-analytics-nssl.emc.com";
            s.trackingServerSecure = "ecn-analytics.emc.com";
            s.events = 'event61';
            s.linkTrackVars = 'events,prop73,prop74,prop66,prop32,eVar7,eVar32';
            s.linkTrackEvents = 'event61';
            if (jQuery(this).hasClass("fa-twitter")){
                s.prop73 = 'social sphere-linkto:twitter';
            } else if(jQuery(this).hasClass("fa-facebook")){
                s.prop73 = 'social sphere-linkto:facebook';
            } else if(jQuery(this).hasClass("fa-google-plus")){
                s.prop73 = 'social sphere-linkto:googleplus';
            } else if(jQuery(this).hasClass("fa-linkedin")){
                s.prop73 = 'social sphere-linkto:linkedin';
            } else if(jQuery(this).hasClass("fa-youtube")){
                s.prop73 = 'social sphere-linkto:youtube';
            }

            if (s.pageName) {
                s.prop74 = s.pageName;
            } else {
                if ( typeof (awebcurl) != "undefined") {//If pagename is not defined yet, set to aweburl if defined
                    var cleanerurl = awebcurl.split("?");
                    var cleanaurl = cleanerurl[0];
                    s.prop74 = s.eVar7 = s.pageName = awebcurl = cleanaurl;
                }
            }
            s.tl(this, 'o', s.prop74 + ": " + s.prop73);
        });
    }

    if  (aURL.toLowerCase().indexOf("/information-generation/") > 0) {
        jQuery(document).on( "mousedown","span.toggle-label.toggle-cta.tomorrow,span.toggle-label.toggle-cta.today", navLinkTrk2);
        navLinkTrkTextEvent2(jQuery('#join-us-form-top input[type=submit]'), 'JOIN-US-TOP', 'event60');
        navLinkTrkTextEvent2(jQuery('#join-us-form-bottom input[type=submit'), 'JOIN-US-BOTTOM', 'event60');
        navLinkTrkTextEvent2(jQuery('#join-us-form-shift-information-economy input[type=submit'), 'JOIN-US-INFOECO', 'event60');
    }

    //Enterprise Content Management pages click tracking http://www.emc.com/enterprise-content-management/index.htm
    if  (aURL.toLowerCase().indexOf("enterprise-content-management") > 0) {
        jQuery(document).on('mousedown','#grid-masonry .grid-item a .grid-caption, li.ee, li.hc,li.ls,li.ps,li.fs,a.cta,h4.complete-header', navLinkTextTrk2);
        // jQuery(document).delegate('h3.h4,#redefine-features div div', 'mousedown', navLinkTextTrk2);
        navLinkTextTrk(jQuery('div.cmexpander-head'), jQuery('div.cmexpanders div.cmexpander div.cmexpander-head h3.h4').html());
        navLinkTextTrk(jQuery('div#redefine-features'), jQuery('div#redefine-features div div div span.eyebrow').text());
    }

    //Enterprise Content Management pages click tracking http://www.emc.com/enterprise-content-management/index.htm
    if  (aURL.toLowerCase().indexOf("microsites/whenology") > 0) {
        jQuery(document).on('mousedown','.resp-tabs-list li', navLinkTextTrk2);
    }

    //Set the subscription event and pass when the subscribe form is submitted
    if  (aURL.toLowerCase().indexOf("register.htm") > 0) {
        jQuery(document).on('mousedown','a#submitButton.button.button-blue.button-action', function() {
            // var s=s_gi(s_account);
            s.trackingServer = "ecn-analytics-nssl.emc.com";
            s.trackingServerSecure = "ecn-analytics.emc.com";
            s.events = 'event61';
            s.linkTrackVars = 'events,prop73,prop74,prop66,prop32,eVar7,eVar32';
            s.linkTrackEvents = 'event61';

            s.prop73 = 'subscription signup';
            if (s.pageName) {
                s.prop74 = s.pageName;
            } else {
                if ( typeof (awebcurl) != "undefined") {//If pagename is not defined yet, set to aweburl if defined
                    var cleanerurl = awebcurl.split("?");
                    var cleanaurl = cleanerurl[0];
                    s.prop74 = s.eVar7 = s.pageName = awebcurl = cleanaurl;
                }
            }
            s.tl(this, 'o', s.prop74 + ": " + s.prop73);
        });
    }
    // end jquery link tracking
});

//Dont think these are used any longer
function setPdfpath(pdfUrl) {/*do nothing*/
}

function mainNavTracking(pageURL) {/*do nothing*/
}

function HomepageClickTracking(click) {/*do nothing*/
}

function onSwipe(swipeID) {/*do nothing*/
}

function parseQueryString() {
    var query = (location.hash || '#').substr(1), map = {};
    query.replace(/([^&=]+)=?([^&]*)(?:&+|$)/g, function(match, key, value) {
        (map[key] = map[key] || []).push(value);
    });
    return map;
}

//Used as part of the new search.  captures the parameters in string
function parseString(qString) {
    var querys = qString.substr(1), qmap = {};
    querys.replace(/([^&=]+)=?([^&]*)(?:&+|$)/g, function(match, key, value) {
        (qmap[key] = qmap[key] || []).push(value);
    });
    return qmap;
}

if (locations.toLowerCase().indexOf("dev-b") != -1) {
    var qs = parseQueryString()

}

//Not sure if this is used
function printTracking() {
    var s = s_gi(s_account);
    s.linkTrackVars = 'eVar7,events,prop66,prop32,eVar32';
    s.linkTrackEvents = "event21";
    s.events = "event21";
    s.eVar7 = s.pageName;
    s.tl(this, 'o', s.eVar7 + " was printed");
    s.events = "";
}

//tracking email button
function emailTracking() {
    var s = s_gi(s_account);
    s.linkTrackVars = 'eVar7,events,prop66,prop32,eVar32';
    s.linkTrackEvents = "event22";
    s.events = "event22";
    s.eVar7 = s.pageName;
    s.tl(this, 'o', s.eVar7 + " was emailed");
    s.events = "";
}

function recordTabValue(theValue) {
    var s = s_gi(s_account);
    s.events = "";
    s.linkTrackVars = 'prop74,prop73,prop66,prop32,eVar32';
    s.prop73 = theValue;
    s.prop74 = s.pageName;
    s.tl(this, 'o');
}

function missingFieldEvent() {
    var s = s_gi(s_account);
    s.linkTrackVars = "events,eVar7,prop66,prop32,eVar32";
    s.linkTrackEvents = "event26";
    s.events = "event26";
    s.tl(this, 'o', s.events);
    s.events = "";
}

function registeredForEvent() {
    var s = s_gi(s_account);
    s.linkTrackVars = "events,eVar7,prop66,prop32,eVar32";
    s.linkTrackEvents = "event19";
    s.events = "event19";
    var register = "register";
    s.tl(this, 'o', register);
    s.events = "";
}

function trackUnlockedDownload(fileName) {
    var s = s_gi(s_account);
    s.linkTrackVars = 'products,eVar8,prop35,prop36,prop43,prop75,prop1,eVar1,prop2,eVar2,prop3,eVar3,prop4,eVar4,events,eVar7,prop75,prop19,prop20,prop66,prop65,prop15,eVar35,prop32,eVar32,eVar24,eVar51,eVar52,eVar53,eVar54,prop62,prop64';
    s.linkTrackEvents = "event60,event10,event1";
    s.events = "event60,event10,event1";
    s.products = ";;;;event1=5,;;;;event10";

    var url = fileName;
    var cleaner = url.split("?");
    var cleanUrl = cleaner[0];
    var fileName = url.substr(url.lastIndexOf("/") + 1);

    s.eVar8 = url + "<>" + s.pageName;
    s.prop35 = url;
   // s.eVar39 = s.prop35;
    s.prop36 = "D=pageName";
    //s.eVar40 = s.prop36;
    s.prop66 = s.server;
    s.prop62 = fileName;
    s.prop64 = cleanUrl;

    if ((s.eVar51 != 'Y') || (!s.eVar51)) {
        s.eVar51 = "N";
    } else {
        s.eVar51 = s.eVar51;
    }

    var getType = awebcurl.split("/");
    var getTypeArray = getType[1];
    if (getTypeArray.indexOf("hardware") == 0 || getTypeArray.indexOf("software") == 0) {
        var getTypeArray2 = getType[2];

        s.prop43 = getTypeArray2;

    } else {
        s.prop43 = getTypeArray;
    }

    if (fileName.indexOf('http://') == -1) {
        //append domain for downloads tracking
        var emcSite = window.location.protocol + "//" + window.location.host;
        fileName = emcSite + fileName;
    }

    s.tl(this, 'd', fileName);

    s.events = "";
}

function trackUnlockedAsset(fileName) {
    var s = s_gi(s_account);
    fileName = "http://" + s.server + fileName;
    var url = fileName;
    if (url.indexOf('.pdf') >= 0) {
        s.linkTrackVars = 'products,eVar8,prop35,prop36,prop43,prop75,prop1,eVar1,prop2,eVar2,prop3,eVar3,prop4,eVar4,events,eVar7,prop75,prop19,prop20,prop66,prop65,prop15,eVar35,prop32,eVar32,eVar24,eVar51,eVar52,eVar53,eVar54,prop62,prop64';

        s.linkTrackEvents = "event60,event10,event1";
        s.events = "event60,event10,event1";
        s.products = ";;;;event1=5,;;;;event10";

        var cleaner = url.split("?");
        var cleanUrl = cleaner[0];
        var fileName = url.substr(url.lastIndexOf("/") + 1);

        s.eVar8 = url + "<>" + s.pageName;
        s.prop35 = cleanUrl;
       // s.eVar39 = s.prop35;
        s.prop36 = "D=pageName";
        //s.eVar40 = s.prop36;
        s.prop66 = s.server;
        s.prop62 = fileName;
        s.prop64 = cleanUrl;

        if ((s.eVar51 != 'Y') || (!s.eVar51)) {
            s.eVar51 = "N";
        } else {
            s.eVar51 = s.eVar51;
        }

        var getType = url.split("/");
        var getTypeArray = getType[1];
        if (getTypeArray.indexOf("hardware") == 0 || getTypeArray.indexOf("software") == 0) {
            var getTypeArray2 = getType[2];

            s.prop43 = getTypeArray2;

        } else {
            s.prop43 = getTypeArray;
        }

        if (fileName.indexOf('http://') == -1) {
            //append domain for downloads tracking
            var emcSite = window.location.protocol + "//" + window.location.host;
            fileName = emcSite + fileName;
        }

        s.tl(this, 'd', fileName);

    } else if (fileName.indexOf('http://') != -1 && fileName.indexOf('emc.com') == -1) {
        s.linkTrackEvents = "event13";
        s.linkTrackVars = 'eVar7,prop67,prop68,prop75,prop20,events,prop66,prop19,prop32,eVar32';
        s.events = "event13";
        s.prop67 = fileName
        s.prop68 = s.pageName;
        s.tl(this, 'e', fileName);
    }

    s.events = "";
}

// CUSTOM LINK TRACKING TO CATCH LIVE CHAT CLICKS
function trackChat() {
    // jQuery("#lpChatButton a").click(function() {
    jQuery("div#lpChatButton").mousedown(function() {
        //	var s = s_gi('emc-ngoe-perf,emc-global');
        s = s_gi('emc-ngoe-perf,emc-global');
        s.linkTrackVars = "events,prop66,prop65,prop73,prop74";
        s.linkTrackEvents = "event75";
        s.events = "event75";
        s.prop66 = s.server;

        s.prop65 = getTime();
        s.prop73 = "Live Chat Launch";
        s.eVar70 = "ChatType:Reactive";
        if(emclp){
           s.eVar67 = emclp.livePersonSkill;
        }
        if (s.pageName) {
            s.prop74 = s.pageName;
        } else {
            if ( typeof (awebcurl) != "undefined") {//If pagename is not defined yet, set to aweburl if defined
                s.prop74 = awebcurl;
            }
        }
        s.tl(this, 'o', 'Live Chat Launch: ' + s.prop74);
    });
}

if ( typeof (jQuery) == 'function') {
    jQuery(document).ready(setTimeout('trackChat()', 8000));
}

function getParameterByName(name,qURL)
{
    name = name.replace(/[\[]/, "\\\[").replace(/[\]]/, "\\\]");
    var regexString = "[\\?&$]" + name + "=([^&#]*)";
    var regex = new RegExp(regexString);
    var decodedURL = decodeURI(qURL);
    var found = regex.exec(decodedURL);
    if(found == null)
        return "";
    else
        return decodeURIComponent(found[1].replace(/\+/g, " "));
}

/*
//Ustudio video tracking
var PLAYERS = {},
    mediaOffset = 0,
    mediaName = "default",
    mediaLength, mediaPlayerName, data;

var onMessage = function(event) {

    // this doesn't take into account other services that might
    // use postMessage -- probably need to wrap with a few try / catches
    // just to keep exceptions from being raised.

    try { data = JSON.parse(event.data); } catch (e) { return; }

    var id = data.id,
    player = PLAYERS[id];

    if (data.event === "uStudio.eventsReady") {

        if (!id) {
            // this should always come back, but you can also set it yourself
            // if it's desired (to track specific placements, etc.)
            id = "player-" + parseInt(Math.floor(Math.random() * 100000), 10);
        }

        PLAYERS[id] = {
            video: null,
            lastProgress: null,
            duration: 0,
            source: event.source
        };

        player = PLAYERS[id];

        player.source.postMessage(window.JSON.stringify({
            event: "uStudio.pageReady",
            arguments: [{url: window.location.href, id: id}]
        }), event.origin);
    }

    if (data.event === "Playlist.videoSelected") {

        // this is probably the best place to track an "impression"
        var video = data.arguments[0].video;

        if (player.video && player.video.id == video.id) {
            // when playback has finished, it sets up the player again
            // with the same video, so this can be ignored.
            return;
        }

        player.started = false;
        player.ended = false;
        player.video = data.arguments[0].video;

        // this duration is in the metadata about the video
        player.duration = player.video.duration;

        // send out impression information

    }

    if (data.event === "Player.durationchange") {
        // this is the duration reported by the video player for the
        // specific transcode, and may be slightly more accurate
        player.duration = data.arguments[0].duration;
    }

    if (data.event === "Player.playing") {

        if (!player.started) {

            player.started = true;

            // send play information
            mediaName = player.video.name;

            mediaLength = player.duration;
            mediaPlayerName = "ustudio player";
            mediaOffset = player.lastProgress;
            s.eVar9 = 'ustudio video';

            if(mediaOffset === null){
                mediaOffset = 0;
            }

            s.Media.open(mediaName,mediaLength,mediaPlayerName);
            s.Media.play(mediaName,mediaOffset);

        }
    }

    if (data.event === "Player.ended") {

        if (!player.ended) {

            player.ended = true;

            // send completed information
            mediaName = player.video.name;

            s.Media.stop(mediaName,mediaOffset);
            s.Media.close(mediaName);
            mediaOffset = 0;
        }
    }

    if (data.event === "Player.timeupdate") {

        player = PLAYERS[data.id];

        var time = data.arguments[0].currentTime,
        progress = parseInt(Math.floor((time / player.duration) * 100), 10);

        if (player.lastProgress != progress) {
            // send progress information
            player.lastProgress = progress;
        }
    }
};

var addListener = function(eventName, listener) {
    if (window.attachEvent) {
        window.attachEvent("on" + eventName, listener);
    } else if (window.addEventListener) {
        window.addEventListener(eventName, listener, false);
    } else {
        document.addEventListener(eventName, listener, false);
    }
};

addListener("message", onMessage);

*/


// CUSTOM LINK TRACKING TO CATCH RECORDED EVENTS AS DOWNLOADS

jQuery(window).on('load',function() {//TB UPDATE

    jQuery("a:contains('Play Video')").click(function() {

        s.linkTrackVars = 'products,prop35,prop36,prop43,prop75,prop1,eVar1,prop2,eVar2,prop3,eVar3,prop4,eVar4,events,eVar7,prop75,prop19,prop20,prop66,prop65,prop15,eVar35,prop32,eVar32,eVar24,eVar51,eVar52,eVar53,eVar54,prop62,prop64';

        s.linkTrackEvents = "event60,event10,event1";
        s.events = "event60,event10,event1";
        s.products = ";;;;event1=5,;;;;event10";

        var recEvUrl = this.href;
        var cleaner = recEvUrl.split("?");
        var recEvUrlClean = cleaner[0];
        var fileName = recEvUrl.substr(recEvUrl.lastIndexOf("/") + 1);

        s.prop66 = s.server;
        s.prop35 = s.eVar35 = recEvUrl;
       // s.eVar39 = s.prop35;
        s.prop36 = s.pageName;
        //s.eVar40 = s.prop36;
        s.prop62 = recEvUrl;
        s.prop64 = recEvUrlClean;

        if ((s.eVar51 != 'Y') || (!s.eVar51)) {
            s.eVar51 = "N";
        } else {
            s.eVar51 = s.eVar51;
        }

        var now = new Date();
        var hour = now.getHours();
        var minute = now.getMinutes();
        var second = now.getSeconds();
        var ap = "AM";
        if (hour > 11) {
            ap = "PM";
        }
        if (hour > 12) {
            hour = hour - 12;
        }
        if (hour == 0) {
            hour = 12;
        }
        if (hour < 10) {
            hour = "0" + hour;
        }
        if (minute < 10) {
            minute = "0" + minute;
        }
        if (second < 10) {
            second = "0" + second;
        }
        s.prop65 = hour + ':' + minute + ':' + second + ap;

        s.tl(this, 'o', 'Recorded Event: ' + s.eVar35);

    });
});

function trackEmbeddedFormConversion() {
    var s = s_gi(s_account);
    s.linkTrackVars = 'events,eVar7,prop66,prop75';
    s.linkTrackEvents = "event41,event40";
    s.events = "event41,event40";

    s.tl(true, 'o', 'Submission: ' + s.eVar7);
    s.events = '';
}

function trackLead() {
    var s = s_gi(s_account);
    s.linkTrackVars = 'events,eVar7,prop66,prop75';
    s.linkTrackEvents = "event40";
    s.events = "event40";

    s.tl(true, 'o', 'Response:' + s.eVar7);
    s.events = '';
}

function checkSubmission() {
    var checkEvents = s.events;
    if (checkEvents == "event41,event40") {
        trackLead();
    } else {
        trackEmbeddedFormConversion();
    }
}

/*ADD THIS LISTENER*/

function processAprimoURLs() {
    jQuery('.processAprimoURL').each(function(ix, el) {
        if (!jQuery(el).hasClass('aprimoURLprocessed')) {
            jQuery(el).addClass('aprimoURLprocessed');
            //retrieve URL from target element based on tagName
            if (jQuery(el).get(0).nodeName.toLowerCase() == 'a') {
                targetURL = jQuery(el).attr('href');
                tagName = 'a';
            } else {
                targetURL = jQuery(el).html();
                tagName = 'nota';
            }
            //retrieve search string from page
            incomingSearch = window.location.search;
            // add reg_src to incoming search if it isn't present in the target link already

            if (incomingSearch.toLowerCase().indexOf('reg_src=') < 0 && targetURL.toLowerCase().indexOf('reg_src=') < 0) {
                if (tagName == 'a') {
                    incomingSearch += '&reg_src=WEB';
                } else {
                    incomingSearch += '&reg_src=WEB';
                }
            }

            if (incomingSearch.toLowerCase().indexOf('reg_src=') >= 0 && targetURL.toLowerCase().indexOf('reg_src=') >= 0) {
                targetURL = targetURL.split('reg_src=');
                if (targetURL[1].indexOf('&') >= 0) {
                    targetURL = targetURL[0] + targetURL[1].slice(targetURL[1].indexOf('&') + 1);
                } else {
                    targetURL = targetURL[0];
                }

                // truncate if first or last char(s) is(are) "&" or "&"
                if (targetURL.slice(-1) == '&') {
                    targetURL = targetURL.slice(0, -1);
                }
                if (targetURL.lastIndexOf('&') == targetURL.length - 5) {
                    targetURL = targetURL.slice(0, -5);
                }
            }
            // fix incomingSearch to remove &reg so it doesn't convert to registered trademark symbol in DIVs
            if (tagName != 'a') {
                incomingSearch = incomingSearch.replace('&reg_src=', '&reg_src=');
            }
            // chop off the "?" or "&" at the beginning, will add back as needed below
            if (incomingSearch.indexOf('&') == 0) {
                incomingSearch = incomingSearch.slice(5);
            } else {
                incomingSearch = incomingSearch.slice(1);
            }
            if (targetURL.indexOf('?') > 0) {// add incoming search string to existing
                if (tagName == 'a') {
                    targetURL += '&' + incomingSearch;
                } else {
                    targetURL += '&' + incomingSearch;
                }
            } else {// or if there isn't an existing srach string, add one
                targetURL += '?' + incomingSearch;
            }

            // truncate if last char(s) is(are) "&" or "&"
            if (targetURL.slice(-1) == '&') {
                targetURL = targetURL.slice(0, -1);
            }
            if (targetURL.lastIndexOf('&') == targetURL.length - 5) {
                targetURL = targetURL.slice(0, -5);
            }
            // remove "?&" or "?&" if found, replace with "?"
            targetURL = targetURL.replace('?&', '?');
            targetURL = targetURL.replace('?&', '?');
            targetURL = targetURL.replace('&&', '&');
            targetURL = targetURL.replace('&&', '&');

            //add CMP code if present
            var addCMP = s.prop75;
            if (addCMP != "") {
                targetURL = targetURL + '&cmp=' + addCMP;
            }

            //apply new URL to target element
            if (jQuery(el).get(0).nodeName.toLowerCase() == 'a') {
                jQuery(el).attr('href', targetURL);
            } else {
                jQuery(el).html(targetURL);
            }
        }
    });
}

/* DYNAMIC APRIMO URL PROCESSOR */
if ( typeof (jQuery) == 'function') {
    jQuery(document).ready(processAprimoURLs);
}

/* END DYNAMIC APRIMO URL PROCESSOR */

/* insert config here*/

function s_doPlugins(s) {
    //for EMC and Brocade page

    var micrositeURL=document.location.toString();
    var theDomain=location.hostname.toString();

    //Blanking out DUMMY vars for APrimo feed
    s.eVar64 = "";
    s.eVar65 = "";

    if(micrositeURL.indexOf("benextsolutions")!=-1){
        micrositeURL=micrositeURL.slice(11);
        s.pageName=micrositeURL;
    }

    //SSO Login - capture the sso login pages
    if(micrositeURL.indexOf("sso")!=-1){

        //Authentication mode based on parameter
        var authMode = s.getQueryParam('CTAuthMode');
        if(authMode != ""){authMode = "_"+authMode; }

        //Get login status based on parameter
        var logStatus = s.getQueryParam('loginStatus');
        if(logStatus != ""){logStatus= "_"+logStatus; }

        //Get locale based on parameter
        var locale = s.getQueryParam('siteLocale');
        if(locale != ""){locale = "_"+locale; }

        s.pageName=s.getPageName()+ authMode +logStatus+locale;
    }

    //Determines if the page is web.emc.com
    if(pageValidator.indexOf("web.emc.com")!=-1){
        micrositeURL=micrositeURL.split("/");
        if(micrositeURL[4]){
            s.server=s.prop66=micrositeURL[0]+"//"+micrositeURL[2]+"/"+micrositeURL[3];
        } else {
            s.server=s.prop66=micrositeURL[0]+"//"+micrositeURL[2];
        }
    } else {
        theDomain=theDomain.toLowerCase();
        s.prop66=s.server=theDomain;
    }

    // Checking for Second readCookie function.  This function looks for the entire cookie name instead of the string as the global function uses.
    function ReadCookieSC(name) {
        var cookieString = document.cookie;
        var cookiesArray = document.cookie.split(";");
        if(cookiesArray.length >1) {
            for(var i=0;i<cookiesArray.length;i++) {
                cookieArray = cookiesArray[i].split("=");
                cookieName = cookieArray[0];
                cookieName = cookieName.substring(1);
                cookieValue = cookieArray[1];
                if(cookieName == name) {
                    return cookieValue;
                }
            }
        }
        else {
            cookieArray = cookieString.split("=");
            cookieName = cookieArray[0];
            cookieName = cookieName.substring(1);
            cookieValue = cookieArray[1];
            if(cookieName == name) {
                return cookieValue;
            }
        }
        return "";
    }

    //Capturing valus for the OmnitureVars data mupid, etc.  Variable is set by SSO process
    if(typeof(omnitureVars) != "undefined"){

        if(typeof(omnitureVars.tac)!= "undefined"){s.eVar50 = omnitureVars.tac;}
        if(typeof(omnitureVars.mupId)!= "undefined"){
            s.eVar24 = omnitureVars.mupId;
            s.eVar24=s.getAndPersistValue(s.eVar24,'emc_MUP_ID_persist',90);
        }

        if(typeof(omnitureVars.identityEntitlements)!= "undefined"){
            var identity = omnitureVars.identityEntitlements;
            s.eVar25 = identity;
        }  //temp vars until get evars set

        if(typeof(omnitureVars.programEntitlements)!= "undefined"){
            var program = omnitureVars.programEntitlements;
            var stringProgram = program.toString();
            stringProgram =stringProgram.replace(/\s/g,'');
            s.list1=stringProgram;
        }
        if(typeof(omnitureVars.credentialEntitlements)!= "undefined"){
            var credential= omnitureVars.credentialEntitlements;  //temp vars until get evars set
            var stringCredential = credential.toString();
            stringCredential = stringCredential.replace(/\s/g,'');
            s.list2 = stringCredential;
            //s.eVar27 = stringCredential;
        }
    }
    //If eVar24 is not set and it was set previously, get the value from the Omniture persisted MUPID cookie
    //Get MUPID from Support
    if (!s.eVar24){
        var SupportUID = ReadCookieSC('analyticUID');
        if (SupportUID != ""){
        	var SupportUIDarray = SupportUID.split(":");
            s.eVar24 = SupportUIDarray[0];
        }
    }
    if (!s.eVar24){
        s.eVar24=s.getAndPersistValue(s.eVar24,'emc_MUP_ID_persist',90);
    }

    //get MUPID from playbook if not already set by checking varD variable
    if (aURL.indexOf("/playbooks")>-1 && !s.eVar24){
        if(typeof(varD) != "undefined"){
            s.eVar24=varD;
            s.eVar24=s.getAndPersistValue(s.eVar24,'emc_MUP_ID_persist',90);
        }
    }

    /*Read the value of the visitor cookie then extract the hex code*/
    if (s.c_r("s_vi")){
        s_vi_value = s.c_r("s_vi");
        s.eVar18 = s_vi_value.substring(7,40);
        s.prop18 = "D=v18";
    }

    s.channel=theDomain+":"+s.prop1;
    s.pageType="";
    if(typeof(window['pageType'])!= "undefined"){
        s.pageType="errorPage"
    } else {
        s.pageType=""
    }

 	//Captures the Test and Target Category affinity variable then sets prop14
    if(typeof(tnt_ca)!= "undefined"){
        s.list3 = tnt_ca;
        var caArray = tnt_ca.split(";");
        s.prop14 = caArray[0];
    }

    //Gets the category of the page determined by affinity logic
    if(typeof(pageCategory)!= "undefined"){
        s.eVar72 = pageCategory;
    }

    /* E-commerce Variables */
    s.campaign=""
    s.state=""
    s.zip=""
    s.purchaseID=""

    /* Set Visit Event */
    //alert("*** calling s.visEvent");
    s.visEvent=s.getVisitStart("s_visit");

    if(s.visEvent=="1"){
        s.events="event1,event16";
        s.products=";;;;event1=3,;;;;event16";
    }else if (typeof (s.events) == "undefined"){
        s.events="event1";
        s.products=";;;;event1=1";
    }

    /* Hierarchy Variables */
    s.hier1=""

    s.tnt=s.trackTNT(); //Test and Target calls

    /*Page Name Plugin*/
    if(!s.pageType && !s.pageName){
       if(theDomain.indexOf("delltechnologies")!=-1){
       	  s.pageName=s.eVar7=theDomain+"/"+s.getPageName(); //Added to distinguish between DElltechnologie and EMC
       }
       else{
         s.pageName=s.eVar7=s.getPageName();
       }
    } else if(theDomain.indexOf("blog.dellemc")!=-1){
       	  s.pageName=s.eVar7=theDomain+"/"+s.getPageName(); //Added to distinguish between blog.dellemc and EMC
    }else if(theDomain.indexOf("blog.dell.com")!=-1){
       	  s.pageName=s.eVar7=theDomain+"/"+s.getPageName(); //Added to distinguish between blog.dellemc and EMC
    }else if(theDomain.indexOf("brand.delltechnologies.com")!=-1){
       	  s.pageName=s.eVar7=theDomain+"/"+s.getPageName(); //Added to distinguish between blog.dellemc and EMC
    }
    s.prop27=document.title;

    // Trim EMC TV Vids
    var vidURL=document.location.toString();
    if(vidURL.indexOf("must-see-emc-tv-")!=-1){
        var getVidName=s.pageName;
        getVidName=getVidName.slice(62);
        s.pageName=s.eVar7=getVidName;
    }

    s.prop5 = s.eVar36="D=g";
    s.prop63 = s_account; // s.un;

    /* New/Repeat Status and Pathing Variables */
    s.prop12 = s.eVar12=s.getNewRepeat(30,'s_nr');
    s.prop13 = "mkt-am-6-21-18";

    /* Set Time Parting Variables */
    var currentDate = new Date();
    var year = currentDate.getFullYear();
    s.prop15=s.eVar15=s.getTimeParting('h','-5',year); // Set hour
    s.prop16=s.eVar16=s.getTimeParting('d','-5',year); // Set day
    s.prop17=s.eVar17=s.getTimeParting('w','-5',year); // Set Weekend / Weekday

    /* Set timestamp */
    var now    = new Date();
    var hour   = now.getHours();
    var minute = now.getMinutes();
    var second = now.getSeconds();
    var ap = "AM";
    if (hour   > 11) { ap = "PM";             }
    if (hour   > 12) { hour = hour - 12;      }
    if (hour   == 0) { hour = 12;             }
    if (hour   < 10) { hour   = "0" + hour;   }
    if (minute < 10) { minute = "0" + minute; }
    if (second < 10) { second = "0" + second; }
    s.prop65 = hour + ':' + minute + ':' + second + ap;

    //get Aprimo Audience Member ID if set in url
    if(s.getQueryParam('AM_ID')){
        var checkAMID=s.getQueryParam('AM_ID');
        var re = /^[0-9]*$/;
        if (re.test(checkAMID)){
            s.prop19=s.eVar19=s.getQueryParam('AM_ID');
            //s.prop19= s.eVar19=s.getValOnce(s.eVar19,'s_AM_ID',10000);
            //s.prop19="D=v19";//dynamic
        }
    }

    s.prop19=s.getAndPersistValue(s.prop19,'emc_AM_ID_persist',10000);
    if (s.prop19 != "D=v19"){
        s.eVar19=s.prop19;
    }else {
        s.prop19 = "";
    }

    //Activity ID tracking
    if (s.getQueryParam('Activity_ID')) {
        var checkActID=s.getQueryParam('Activity_ID');
        var re = /^[0-9]*$/;
        if (re.test(checkActID)){
            s.eVar20=s.getQueryParam('Activity_ID');
            // s.eVar20=s.getValOnce(s.eVar20,'s_ActID',0);
            s.prop20=s.eVar20;
        }
    } else if(s.getQueryParam('ActID')) {
        var checkActID=s.getQueryParam('ActID');
        var re = /^[0-9]*$/;
        if (re.test(checkActID)) {
            s.eVar20=s.getQueryParam('ActID');
            // s.eVar20=s.getValOnce(s.eVar20,'s_ActID',0);
            s.prop20=s.eVar20;//dynamic
        }
    } else {
        s.prop20="";
    }
    s.prop20=s.getAndPersistValue(s.prop20,'emc_ActID_persist',0);

    /* External Campaign Tracking */

    if(!s.campaign && s.getQueryParam('CMP')){
        var getCMP=s.getQueryParam('CMP');
        getCMP=getCMP.toLowerCase();

        s.campaign=getCMP;
        //s.eVar74=getCMP;
        //Set campaign here if not set in page already.
        //	s.campaign=s.getValOnce(s.campaign.toLowerCase(),'s_campaign',0);
        //campaign tracker 2.0
        s.prop75="D=v0";
    }
     else {
        s.prop75="";
    }
    s.prop75=s.getAndPersistValue(s.prop75,'emc_cmp_persist',0);

    //Setting reg_src if parameter is present.  Replicates APrimo function
    if(s.getQueryParam('reg_src')){
        s.eVar10=s.getQueryParam('reg_src');
        //Set campaign here if not set in page already.
        s.eVar10=s.getValOnce(s.eVar10.toLowerCase(),'s_reg_src',0);
    } else {
        s.eVar10="";
    }
    s.eVar10=s.getAndPersistValue(s.eVar10,'emc_reg_src_persist',0);

    /* Internal Campaign Tracking TB UPDATE 6/25/2015*/
    if(!s.eVar5){
        if(s.getQueryParam('pid') != ""){
            var pageReferrer=document.referrer;
            var localCheck=pageReferrer.indexOf('emc');
            var localCheckDell=pageReferrer.indexOf('dell');
            if(localCheck!==-1 || localCheckDell !==-1){
              s.eVar5=s.getQueryParam('pid');//Set internal campaign here if not set in page already.
              s.events="event1,event7";
              s.products=";;;;event1=1,;;;;event1=1";
            }
        }
    }

    //get Aprimo Audience Member ID if set in url


    if(s.getQueryParam('cid')){
       s.eVar38 =s.getQueryParam('cid');
    }
    if(s.getQueryParam('lid')){
       s.eVar39  =s.getQueryParam('lid');
    }
    if(s.getQueryParam('dgc')){
       s.eVar37 =s.getQueryParam('dgc');
    }

    if(s.getQueryParam('acd')){
       s.eVar40 =s.getQueryParam('acd');
    }

    if(s.getQueryParam('ref')){
       s.eVar41 =s.getQueryParam('ref');
       s.eVar41 =s.eVar41.toLowerCase();
    }
//UTM Codes from Google
    if(s.getQueryParam('utm_source')){
       s.eVar81 =s.getQueryParam('utm_source');
    }
    if(s.getQueryParam('utm_content')){
       s.eVar82  =s.getQueryParam('utm_content');
    }
    if(s.getQueryParam('utm_campaign')){
       s.eVar83 =s.getQueryParam('utm_campaign');
    }
    if(s.getQueryParam('tfcid')){
       s.eVar91 =s.getQueryParam('tfcid');
    }

    //get paid Search Term if set in url by ST parameter
    if(s.getQueryParam('ST')){
        s.eVar85 =s.getQueryParam('ST');
        s.eVar85 =s.eVar85.toLowerCase();
    }

    if(s.getQueryParam('ven1')){
        s.eVar88 =s.getQueryParam('ven1');
        s.eVar88 =s.eVar88.toLowerCase();
    }

    if(s.getQueryParam('ven2')){
        s.eVar89 =s.getQueryParam('ven2');
        s.eVar89 =s.eVar89.toLowerCase();
    }

    if(s.getQueryParam('ven3')){
        s.eVar90 =s.getQueryParam('ven3');
        s.eVar90 =s.eVar90.toLowerCase();
    }
//  Need to concatenate variables.  If  sDGC equal IR it is a PID, if xxx cmp



    /* Test and Target Tracking Code. Used to track TnT campaigns to determine conversions.  Used on homepage mostly */
    if(!s.eVar27){
        s.eVar27=s.getQueryParam('tntpid');//Set internal campaign here if not set in page already.
    }

    /* Test and Target Tracking Code. Used to track TnT campaigns to determine conversions.  Used on homepage mostly */
    if(!s.eVar66){
        s.eVar66=s.getQueryParam('tntpidhit');//Set internal campaign here if not set in page already.
    }

    /* Resource Library search term*/
    var pageResource=document.URL;
    if(pageResource.indexOf('resource-library')>-1){
        if(typeof(keyWords) != "undefined") {
            var srchKeyword = keyWords;
            s.prop47 = "RL:"+srchKeyword;  //Need to set omniture variable here
            s.prop50 = searchWithin; //taken from the dropdon titled search within
        }
    }

    /*********************
    *prop6 is search term
    *evar6 is search term
    *event2 is searches
    *********************/
    if(s.prop47){
        s.eVar6=s.prop47=s.prop47.toLowerCase();
        var t_search=s.getValOnce(s.eVar6,'ev6',0);
        if(t_search) {
            s.events="event2,event1";
            s.products=";;;;event1=3,;;;;event2";
        }
    }

    /* Copy props to eVars */
    if(s.prop1&&!s.eVar1) s.eVar1="D=c1";
    if(s.prop2&&!s.eVar2) s.eVar2="D=c2";
    if(s.prop3&&!s.eVar3) s.eVar3="D=c3";
    if(s.prop4&&!s.eVar4) s.eVar4="D=c4";

    /* Download handler */
//	var url=s.downloadLinkHandler('exe,zip,wav,mp3,mov,mpg,avi,wmv,pdf,doc,docx,xls,xlsx,ppt,dotx,pptx,vmdk,ovf,ova,mobi,epub,ibooks');
//	if(url){
    if( typeof(s.linkType)!='undefined' && typeof(s.linkURL)!='number' && s.linkType=="d" ){
        s.linkTrackVars='products,eVar8,prop35,prop36,prop43,prop75,prop1,eVar1,prop2,eVar2,prop3,eVar3,prop4,eVar4,events,eVar7,prop75,prop19,prop20,prop66,prop65,prop15,eVar35,prop32,eVar32,eVar24,eVar51,eVar52,eVar53,eVar54,prop62,prop64,eVar12,eVar15,eVar16,eVar17,eVar19,prop12,prop13,prop15,prop16,prop17,prop27';
        s.linkTrackEvents="event10,event1,event60";
        s.events="event10,event1,event60";
        s.products=";;;;event1=5,;;;;event10";

        url=s.linkURL;

        var xstart = url.indexOf(".emc.com")+9;
        var xend = url.length;
        var awebcurl = url.substring(xstart,xend);
        var cleaner = url.split("?");
        var cleanUrl = cleaner[0];
        var fileName = url.substr(url.lastIndexOf("/") + 1);

        s.eVar8=awebcurl+"<>"+s.pageName;
        s.prop66=s.server;
        s.prop35=s.eVar35=url;
       // s.eVar39=s.prop35;
        s.prop36=s.pageName;
        //s.eVar40=s.prop36;
        s.prop62=fileName;
        s.prop64=cleanUrl;
        // added as a test for pathing downloads
        //s.pageName =fileName;
        if((s.eVar51 != 'Y') || (!s.eVar51)){
            s.eVar51="N";
        } else {
            s.eVar51=s.eVar51;
        }

        var getType=awebcurl.split("/");
        var getTypeArray=getType[1];
        if (getTypeArray.indexOf("hardware")==0 || getTypeArray.indexOf("software")==0){
            var getTypeArray2=getType[2];
            s.prop43=getTypeArray2;
        } else {
            s.prop43=getTypeArray;
        }

        var now    = new Date();
        var hour   = now.getHours();
        var minute = now.getMinutes();
        var second = now.getSeconds();
        var ap = "AM";
        if (hour   > 11) { ap = "PM";             }
        if (hour   > 12) { hour = hour - 12;      }
        if (hour   == 0) { hour = 12;             }
        if (hour   < 10) { hour   = "0" + hour;   }
        if (minute < 10) { minute = "0" + minute; }
        if (second < 10) { second = "0" + second; }
        s.prop65 = hour + ':' + minute + ':' + second + ap;
    } else if ( typeof(s.linkType)!='undefined' && s.linkType=='e' ){
        s.events="event13";
        s.linkTrackVars='eVar7,prop67,prop68,prop75,prop20,events,prop66,prop32,eVar32,prop12,eVar12,prop15,eVar15,prop16,eVar16,prop16,eVar19,prop27,prop9,eVar24';
        s.linkTrackEvents="event13";
        s.prop67=s.linkURL;
        s.prop68=s.pageName;
    }

//}

//RSA Community
if (locations.indexOf("community.rsa") != -1){
    //Variables passed from page information
    if(fullName){s.eVar30 = fullName;}
    if(userEmail){s.prop31 = s.eVar31 = userEmail;}
    if(userType){s.prop32 = s.eVar32 = userType;}
    if(placeID){s.prop33 = s.eVar33 = placeID;}
    if(communityName){s.prop34 = s.eVar34 = communityName;}

    //Jive ID
    if (typeof(window._jive_current_user) != "undefined") {
        s.prop69 = window._jive_current_user.ID;
        s.prop69 = s.getAndPersistValue(s.prop69,'emc_JIVE_ID_persist',90);
    }

}


    /* channelManager v2.2*/
    s.channelManager('cmp,cmpid,cid,rss,nlcid,nlid,baid',':','s_cm','1');

    //Bing, Baidu, Yahoo patch
    var getReferrer=document.referrer;
    if (getReferrer.indexOf('bing.com')>-1 || getReferrer.indexOf('yahoo.com')>-1 || getReferrer.indexOf('baidu.com')>-1){
        if(getReferrer.indexOf('baidu.com')>-1){
            var getKeyword=s.getQueryParam('wd','',document.referrer);
        } else {
            var getKeyword=s.getQueryParam('q','',document.referrer);
        }
        s.eVar48=s._keywords=getKeyword;
        s._channel="Natural Search";
    } else {
        s.eVar48=s._keywords;
    }

    //define the channel
    if(typeof(getCMP)!="undefined") {
        if(getCMP.indexOf("bac")!=-1){
            s._channel="Banner Ad";
            s.eVar48="";
        } else if(getCMP.indexOf("knc")!=-1) {
            s._channel="Paid Search";
        } else if(getCMP.indexOf("soc")!=-1) {
            s._channel="Social Media";
            s.eVar48="";
        } else if(getCMP.indexOf("pac")!=-1) {
            s._channel="Print Ad";
            s.eVar48="";
        } else if(getCMP.indexOf("emc")!=-1) {
            s._channel="Email";
            s.eVar48="";
        } else if(getCMP.indexOf("qrc")!=-1) {
            s._channel="Quick Response Code";
            s.eVar48="";
        } else if(getCMP.indexOf("aac")!=-1) {
            s._channel="Mobile Application";
            s.eVar48="";
        }
        if(document.referrer==""){
            s._referrer=s._referringDomain="Direct Load";
        }
    }

    //remove n/a
    if(s._channel!="Natural Search" || s._channel!="Paid Search"){
        s.eVar48="";
    }

    s.eVar44=s._referrer;
    s.eVar45=s._referringDomain;
    s.eVar46=s._partner;
    s.eVar49=s._channel;

    if(s.getQueryParam('CMP') && !s.campaign){
        s.eVar46=s.eVar49="";
    }

s.prop22=s_getLoadTime();
s.prop54 = s.getPreviousValue(s.pageName,'s_ppn'); //prop21: prev page name
s.prop55 = s.getPercentPageViewed(); //prop22: max % viewed of prev page
if(!s.prop54||s.prop54=='no value')s.prop55=''; //clear max % viewed if no prev page view
// Chat detection

/*	if  (aURL.indexOf("chat.htm") > -1) {
        s.events = "event55";
    }
*/
    //TNT code
    if(window.mboxLoadSCPlugin && typeof window.mboxLoadSCPlugin == "function"){
        mboxLoadSCPlugin(s);
    }


}
s.doPlugins=s_doPlugins;

/************************** DFA VARIABLES **************************/
var dfaConfig = {
    CSID:               '', // DFA Client Site ID
    SPOTID:             '983623', // DFA Spotlight ID
    tEvar:              'eVar56', // Transfer variable, typically the "View Through" eVar.
    errorEvar:          'eVar58', // DFA error tracking (optional)
    timeoutEvent:       'event52', // Tracks timeouts/empty responses (optional)
    requestURL:         "http://fls.doubleclick.net/json?spot=[SPOTID]&src=[CSID]&var=[VAR]&host=integrate.112.2o7.net%2Fdfa_echo%3Fvar%3D[VAR]%26AQE%3D1%26A2S%3D1&ord=[RAND]", // the DFA request URL
    maxDelay:           "1500", // The maximum time to wait for DFA servers to respond, in milliseconds.
    visitCookie:        "s_dfa", // The name of the visitor cookie to use to restrict DFA calls to once per visit.
    clickThroughParam:  "dfaid", // A query string paramter that will force the DFA call to occur.
    searchCenterParam:  undefined, // SearchCenter identifier.
    newRsidsProp:       undefined //"prop34" // Stores the new report suites that need the DFA tracking code. (optional)
};
/************************ END DFA Variables ************************/


/*
 * Copyright 2011-2013 Adobe Systems, Inc.
 * s_getLoadTime v1.36 - Get page load time in units of 1/10 seconds
 */
function s_getLoadTime(){if(!window.s_loadT){var b=new Date().getTime(),o=window.performance?performance.timing:0,a=o?o.requestStart:window.inHeadTS||0;s_loadT=a?Math.round((b-a)/100):''}return s_loadT}


/*
 * Utility Function: vpr - set the variable vs with value v
 */
s.vpr=new Function("vs","v",
"if(typeof(v)!='undefined' && vs){var s=this; eval('s.'+vs+'=\"'+v+'\"')}");

/*
 * Utility Function: split v1.5 - split a string (JS 1.0 compatible)
 */
s.split=new Function("l","d",""
+"var i,x=0,a=new Array;while(l){i=l.indexOf(d);i=i>-1?i:l.length;a[x++]=l.substring(0,i);l=l.substring(i+d.length);}return a");

/*
 * Plugin Utility: Replace v1.0
 */
s.repl=new Function("x","o","n",""
+"var i=x.indexOf(o),l=n.length;while(x&&i>=0){x=x.substring(0,i)+n+x.substring(i+o.length);i=x.indexOf(o,i+l)}return x");

/*
 * Partner Plugin: DFA Check 1.0 - Restrict DFA calls to once a visit, per report suite, per click
 * through. Used in conjunction with VISTA. Deduplicates SCM hits.
 */
s.partnerDFACheck=new Function("cfg",""
+"var s=this,c=cfg.visitCookie,src=cfg.clickThroughParam,scp=cfg.searchCenterParam,p=cfg.newRsidsProp,tv=cfg.tEvar,dl=',',cr,nc,q,g,gs,i,j,k,fnd,v=1,t=new Date,cn=0,ca=new Array,aa=new Array,cs=new A"
+"rray;t.setTime(t.getTime()+1800000);cr=s.c_r(c);if(cr){v=0;}ca=s.split(cr,dl);if(s.un)aa=s.split(s.un,dl);else aa=s.split(s.account,dl);for(i=0;i<aa.length;i++){fnd = 0;for(j=0;j<ca.length;j++){if(aa[i] == ca[j]){fnd=1;}}if(!fnd){cs[cn"
+"]=aa[i];cn++;}}if(cs.length){for(k=0;k<cs.length;k++){nc=(nc?nc+dl:'')+cs[k];}cr=(cr?cr+dl:'')+nc;s.vpr(p,nc);v=1;}if(s.wd)q=s.wd.location.search.toLowerCase();else q=s.w.location.search.toLowerCase();q=s.repl(q,'?','&');g=q.indexOf('&'+src.toLow"
+"erCase()+'=');gs=(scp)?q.indexOf('&'+scp.toLowerCase()+'='):-1;if(g>-1){s.vpr(p,cr);v=1;}else if(gs>-1){v=0;s.vpr(tv,'SearchCenter Visitors');}if(!s.c_w(c,cr,t)){s.c_w(c,cr,0);}if(!s.c_r(c)){v=0;}r"
+"eturn v>=1;");

//s.maxDelay = dfaConfig.maxDelay;
s.maxDelay=750;
s.loadModule("Integrate");
s.Integrate.onLoad=function(s,m){
    var dfaCheck = s.partnerDFACheck(dfaConfig);
    if (dfaCheck) {
        s.Integrate.add("DFA");
        s.Integrate.DFA.tEvar=dfaConfig.tEvar;
        s.Integrate.DFA.errorEvar=dfaConfig.errorEvar;
        s.Integrate.DFA.timeoutEvent=dfaConfig.timeoutEvent;
        s.Integrate.DFA.CSID=dfaConfig.CSID;
        s.Integrate.DFA.SPOTID=dfaConfig.SPOTID;
        s.Integrate.DFA.get(dfaConfig.requestURL);
        s.Integrate.DFA.setVars=function(s,p) {
            if (window[p.VAR]) { // got a response
                if(!p.ec) { // no errors ('nc' just means no doubleclick cookie - should be set on first load)
                    s[p.tEvar]="DFA-"+(p.lis?p.lis:0)+"-"+(p.lip?p.lip:0)+"-"+(p.lastimp?p.lastimp:0)+"-"+(p.lastimptime?p.lastimptime:0)+"-"+(p.lcs?p.lcs:0)+"-"+(p.lcp?p.lcp:0)+"-"+(p.lastclk?p.lastclk:0)+"-"+(p.lastclktime?p.lastclktime:0)
                } else if (p.errorEvar) { // got an error response, track
                    s[p.errorEvar] = p.ec;
                }
            } else if (p.timeoutEvent) { // empty response or timeout
                s.events = ((!s.events || s.events == '') ? '' : (s.events + ',')) + p.timeoutEvent; // timeout event
            }
        }
    }
}//end s.Integrate.onLoad


/************************** PLUGINS SECTION *************************/
/* You may insert any plugins you wish to use here.                 */

//PLACE THIS CODE SNIPPET THE PLUGINS SECTION AND/OR REPLACE THE OLD DATA CONNECTOR PLUGIN IF USING IT
/************************** PLUGINS SECTION (NOT DO PLUGINS) **************************/
//BEGIN DEMANDBASE CODE
try {

  if (window.sessionStorage) {

        var DnBData = sessionStorage.getItem('DnBData') || '';  //DnB
        var DnBDataDuns = sessionStorage.getItem('DnBDataDuns') || '';  //DnBDataDuns
        var BKAudience = sessionStorage.getItem('BKAudience') || '';  //DnBDataDuns
        s.contextData.BKAudiences_DnBData = DnBData;
        s.contextData.s_DnBDataDuns = DnBDataDuns;
        s.eVar84 = DnBData;
        s.eVar86 = DnBDataDuns;
        s.prop45 = BKAudience;
  }
}
catch (e) {
    if(window.console){console.log("DB _ ERR " + e.message);}
    //alert("DB _ ERR " + e.message);
}
//END DEMANDBASE CODE


/*
 * Utility functions needed for AppMeasurement compatibility
 */
s.wd=window;
s.fl=new Function("x","l",""
+"return x?(''+x).substring(0,l):x");
s.pt=new Function("x","d","f","a",""
+"var s=this,t=x,z=0,y,r,l='length';while(t){y=t.indexOf(d);y=y<0?t[l"
+"]:y;t=t.substring(0,y);r=s[f](t,a);if(r)return r;z+=y+d[l];t=x.subs"
+"tring(z,x[l]);t=z<x[l]?t:''}return''");
s.rep=new Function("x","o","n",""
+"var a=new Array,i=0,j;if(x){if(x.split)a=x.split(o);else if(!o)for("
+"i=0;i<x.length;i++)a[a.length]=x.substring(i,i+1);else while(i>=0){"
+"j=x.indexOf(o,i);a[a.length]=x.substring(i,j<0?x.length:j);i=j;if(i"
+">=0)i+=o.length}}x='';j=a.length;if(a&&j>0){x=a[0];if(j>1){if(a.joi"
+"n)x=a.join(n);else for(i=1;i<j;i++)x+=n+a[i]}}return x");
s.ape=new Function("x",""
+"var s=this,h='0123456789ABCDEF',f='+~!*()\\'',i,c=s.charSet,n,l,e,y"
+"='';c=c?c.toUpperCase():'';if(x){x=''+x;if(s.em==3){x=encodeURIComp"
+"onent(x);for(i=0;i<f.length;i++){n=f.substring(i,i+1);if(x.indexOf("
+"n)>=0)x=s.rep(x,n,'%'+n.charCodeAt(0).toString(16).toUpperCase())}}"
+"else if(c=='AUTO'&&('').charCodeAt){for(i=0;i<x.length;i++){c=x.sub"
+"string(i,i+1);n=x.charCodeAt(i);if(n>127){l=0;e='';while(n||l<4){e="
+"h.substring(n%16,n%16+1)+e;n=(n-n%16)/16;l++}y+='%u'+e}else if(c=='"
+"+')y+='%2B';else y+=escape(c)}x=y}else x=s.rep(escape(''+x),'+','%2"
+"B');if(c&&c!='AUTO'&&s.em==1&&x.indexOf('%u')<0&&x.indexOf('%U')<0)"
+"{i=x.indexOf('%');while(i>=0){i++;if(h.substring(8).indexOf(x.subst"
+"ring(i,i+1).toUpperCase())>=0)return x.substring(0,i)+'u00'+x.subst"
+"ring(i);i=x.indexOf('%',i)}}}return x");
s.epa=new Function("x",""
+"var s=this,y,tcf;if(x){x=s.rep(''+x,'+',' ');if(s.em==3){tcf=new Fu"
+"nction('x','var y,e;try{y=decodeURIComponent(x)}catch(e){y=unescape"
+"(x)}return y');return tcf(x)}else return unescape(x)}return y");
s.parseUri=new Function("u",""
+"if(u){u=u+'';u=u.indexOf(':')<0&&u.indexOf('//')!=0?(u.indexOf('/')"
+"==0?'/':'//')+u:u}u=u?u+'':window.location.href;var e,a=document.cr"
+"eateElement('a'),l=['href','protocol','host','hostname','port','pat"
+"hname','search','hash'],p,r={href:u,toString:function(){return this"
+".href}};a.setAttribute('href',u);for(e=1;e<l.length;e++){p=l[e];r[p"
+"]=a[p]||''}delete a;p=r.pathname||'';if(p.indexOf('/')!=0)r.pathnam"
+"e='/'+p;return r");
s.gtfs=new Function(""
+"var w=window,l=w.location,d=document,u;if(!l.origin)l.origin=l.prot"
+"ocol+'//'+l.hostname+(l.port?':'+l.port:'');u=l!=w.parent.location?"
+"d.referrer:d.location;return{location:s.parseUri(u)}");

/*
 * Plugin: getAndPersistValue 0.3 - get a value on every page
 */
s.getAndPersistValue=new Function("v","c","e",""
+"var s=this,a=new Date;e=e?e:0;a.setTime(a.getTime()+e*86400000);if("
+"v)s.c_w(c,v,e?a:0);return s.c_r(c);");


/*
 * Plugin: getPageName v2.1 - parse URL and return
 */
s.getPageName=new Function("u",""
+"var s=this,v=u?u:''+s.wd.location,x=v.indexOf(':'),y=v.indexOf('/',"
+"x+4),z=v.indexOf('?'),c=s.pathConcatDelim,e=s.pathExcludeDelim,g=s."
+"queryVarsList,d=s.siteID,n=d?d:'',q=z<0?'':v.substring(z+1),p=v.sub"
+"string(y+1,q?z:v.length);z=p.indexOf('#');p=z<0?p:s.fl(p,z);x=e?p.i"
+"ndexOf(e):-1;p=x<0?p:s.fl(p,x);p+=!p||p.charAt(p.length-1)=='/'?s.d"
+"efaultPage:'';y=c?c:'/';while(p){x=p.indexOf('/');x=x<0?p.length:x;"
+"z=s.fl(p,x);if(!s.pt(s.pathExcludeList,',','p_c',z))n+=n?y+z:z;p=p."
+"substring(x+1)}y=c?c:'?';while(g){x=g.indexOf(',');x=x<0?g.length:x"
+";z=s.fl(g,x);z=s.pt(q,'&','p_c',z);if(z){n+=n?y+z:z;y=c?c:'&'}g=g.s"
+"ubstring(x+1)}return n");


/*
 * Utility Function: p_gh
 */
//BEGIN CHANGE
s.p_gh=new Function(""
+"var s=this;if(!s.eo&&!s.lnk)return '';var o=s.eo?s.eo:s.lnk,y=s.ot("
+"o),n=s.oid(o),x=o.s_oidt;if(s.eo&&o==s.eo){while(o&&!n&&y!='BODY'){"
+"o=o.parentElement?o.parentElement:o.parentNode;if(!o)return '';y=s."
+"ot(o);n=s.oid(o);x=o.s_oidt}}return o.href?o.href:'';");

/*
 * Plugin: downloadLinkHandler 0.5 - identify and report download links
 */

s.downloadLinkHandler=new Function("p",""
+"var s=this,h=s.p_gh(),n='linkDownloadFileTypes',i,t;if(!h||(s.linkT"
+"ype&&(h||s.linkName)))return '';i=h.indexOf('?');t=s[n];s[n]=p?p:t;"
+"if(s.lt(h)=='d')s.linkType='d';else h='';s[n]=t;return h;");

//END Change
/*
 * Plugin: getTimeParting 1.3 - Set timeparting values based on time zone
 */
s.getTimeParting=new Function("t","z","y",""
+"dc=new Date('1/1/2000');f=15;ne=8;if(dc.getDay()!=6||"
+"dc.getMonth()!=0){return'Data Not Available'}else{;z=parseInt(z);"
+"if(y=='2009'){f=8;ne=1};gmar=new Date('3/1/'+y);dsts=f-gmar.getDay("
+");gnov=new Date('11/1/'+y);dste=ne-gnov.getDay();spr=new Date('3/'"
+"+dsts+'/'+y);fl=new Date('11/'+dste+'/'+y);cd=new Date();"
+"if(cd>spr&&cd<fl){z=z+1}else{z=z};utc=cd.getTime()+(cd.getTimezoneO"
+"ffset()*60000);tz=new Date(utc + (3600000*z));thisy=tz.getFullYear("
+");var days=['Sunday','Monday','Tuesday','Wednesday','Thursday','Fr"
+"iday','Saturday'];if(thisy!=y){return'Data Not Available'}else{;thi"
+"sh=tz.getHours();thismin=tz.getMinutes();thisd=tz.getDay();var dow="
+"days[thisd];var ap='AM';var dt='Weekday';var mint='00';if(thismin>3"
+"0){mint='30'}if(thish>=12){ap='PM';thish=thish-12};if (thish==0){th"
+"ish=12};if(thisd==6||thisd==0){dt='Weekend'};var timestring=thish+'"
+":'+mint+ap;var daystring=dow;var endstring=dt;if(t=='h'){return tim"
+"estring}if(t=='d'){return daystring};if(t=='w'){return en"
+"dstring}}};"
);


/*
 * Plugin: getNewRepeat 1.2 - Returns whether user is new or repeat
 */
s.getNewRepeat=new Function("d","cn",""
+"var s=this,e=new Date(),cval,sval,ct=e.getTime();d=d?d:30;cn=cn?cn:"
+"'s_nr';e.setTime(ct+d*24*60*60*1000);cval=s.c_r(cn);if(cval.length="
+"=0){s.c_w(cn,ct+'-New',e);return'New';}sval=s.split(cval,'-');if(ct"
+"-sval[0]<30*60*1000&&sval[1]=='New'){s.c_w(cn,ct+'-New',e);return'N"
+"ew';}else{s.c_w(cn,ct+'-Repeat',e);return'Repeat';}");

/*
 * Get Visit Start
 */
s.getVisitStart=new Function("c",""
+"var s=this,v=1,t=new Date;t.setTime(t.getTime()+1800000);if(s.c_r(c"
+")){v=0}if(!s.c_w(c,1,t)){s.c_w(c,1,0)}if(!s.c_r(c)){v=0}return v;");

/*
 * Plugin: getQueryParam 2.3
 * This H-code version of s.getQueryParam is needed by s.channelManager
 * for its ability to read multiple parameters in the first argument.
 * Also retained for its case-insensitive search for the parameter.
 */
s.getQueryParam=new Function("p","d","u",""
+"var s=this,v='',i,t;d=d?d:'';u=u?u:(s.pageURL?s.pageURL:s.wd.locati"
+"on);if(u=='f')u=s.gtfs().location;while(p){i=p.indexOf(',');i=i<0?p"
+".length:i;t=s.p_gpv(p.substring(0,i),u+'');if(t){t=t.indexOf('#')>-"
+"1?t.substring(0,t.indexOf('#')):t;}if(t)v+=v?d+t:t;p=p.substring(i="
+"=p.length?i:i+1)}return v");
s.p_gpv=new Function("k","u",""
+"var s=this,v='',i=u.indexOf('?'),q;if(k&&i>-1){q=u.substring(i+1);v"
+"=s.pt(q,'&','p_gvf',k)}return v");
s.p_gvf=new Function("t","k",""
+"if(t){var s=this,i=t.indexOf('='),p=i<0?t:t.substring(0,i),v=i<0?'T"
+"rue':t.substring(i+1);if(p.toLowerCase()==k.toLowerCase())return s."
+"epa(v)}return ''");

/*
 * Plugin: getValOnce_v1.11
 */
s.getValOnce=new Function("v","c","e","t",""
+"var s=this,a=new Date,v=v?v:'',c=c?c:'s_gvo',e=e?e:0,i=t=='m'?6000"
+"0:86400000,k=s.c_r(c);if(v){a.setTime(a.getTime()+e*i);s.c_w(c,v,e"
+"==0?0:a);}return v==k?'':v");

/*
* TNT Integration Plugin v1.0
* v - Name of the javascript variable that is used. Defaults to s_tnt
(optional)
* p - Name of the url parameter. Defaults to s_tnt (optional)
* b - Blank Global variable after plugin runs. Defaults to true (Optional)
*/
s.trackTNT = function(v, p, b)
{
var s=this, n="s_tnt", p=(p)?p:n, v=(v)?v:n, r="",pm=false, b=(b)?b:true;
if(s.getQueryParam)
  pm = s.getQueryParam(p); //grab the parameter
if(pm)
  r += (pm + ","); // append the parameter
if(s.wd[v] != undefined)
  r += s.wd[v]; // get the global variable
if(b)
  s.wd[v] = ""; // Blank out the global variable for ajax requests
return r;};

/*
* Plugin Utility: apl v1.1
*/
s.apl=new Function("L","v","d","u",""
+"var s=this,m=0;if(!L)L='';if(u){var i,n,a=s.split(L,d);for(i=0;i<a."
+"length;i++){n=a[i];m=m||(u==1?(n==v):(n.toLowerCase()==v.toLowerCas"
+"e()));}}if(!m)L=L?L+d+v:v;return L");

/********************************************************************
 *
 * channelManager v2.2
 *
 *******************************************************************/
/*
 * channelManager v2.2 - Tracking External Traffic
 * Requires the s.getQueryParam 2.3 for its ability to read multiple query params.
 * Example call:
 * s.channelManager('cmp,cmpid,cid,rss,nlcid,nlid,baid',':','s_cm','1');
 */
s.channelManager=new Function("a","b","c","V",""
+"var s=this,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,t,u,v,w,x,y,z,A,B,C,D,E,F,"
+"G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,W,X,Y;g=s.referrer?s.referrer:documen"
+"t.referrer;g=g.toLowerCase();if(!g){h='1'}i=g.indexOf('?')>-1?g.ind"
+"exOf('?'):g.length;j=g.substring(0,i);k=s.linkInternalFilters.toLow"
+"erCase();k=s.split(k,',');l=k.length;for(m=0;m<l;m++){n=j.indexOf(k"
+"[m])==-1?'':g;if(n)o=n}if(!o&&!h){p=g;q=g.indexOf('//')>-1?g.indexO"
+"f('//')+2:0;r=g.indexOf('/',q)>-1?g.indexOf('/',q):i;t=g.substring("
+"q,r);t=t.toLowerCase();u=t;P='Referrers';v=s.seList+'>'+s._extraSea"
+"rchEngines;if(V=='1'){j=s.repl(j,'oogle','%');j=s.repl(j,'ahoo','^'"
+");g=s.repl(g,'as_q','*');}A=s.split(v,'>');B=A.length;for(C=0;C<B;C"
+"++){D=A[C];D=s.split(D,'|');E=s.split(D[0],',');F=E.length;for(G=0;"
+"G<F;G++){H=j.indexOf(E[G]);if(H>-1){I=s.split(D[1],',');J=I.length;"
+"for(K=0;K<J;K++){L=s.getQueryParam(I[K],'',g);if(L){L=L.toLowerCase"
+"();M=L;if(D[2]){u=D[2];N=D[2]}else{N=t}if(V=='1'){N=s.repl(N,'#',' "
+"- ');g=s.repl(g,'*','as_q');N=s.repl(N,'^','ahoo');N=s.repl(N,'%','"
+"oogle');}}}}}}}O=s.getQueryParam(a,b);if(O){u=O;if(M){P='Paid Searc"
+"h'}}if(!O&&M){u=N;P='Natural Search'}f=s."
+"_channelDomain;if(f){k=s.split(f,'>');l=k.length;for(m=0;m<l;m++){Q"
+"=s.split(k[m],'|');R=s.split(Q[1],',');S=R.length;for(T=0;T<S;T++){"
+"W=j.indexOf(R[T]);if(W>-1)P=Q[0]}}}d=s._channelParameter;if(d){k=s."
+"split(d,'>');l=k.length;for(m=0;m<l;m++){Q=s.split(k[m],'|');R=s.sp"
+"lit(Q[1],',');S=R.length;for(T=0;T<S;T++){U=s.getQueryParam(R[T]);i"
+"f(U)P=Q[0]}}}e=s._channelPattern;if(e){k=s.split(e,'>');l=k.length;"
+"for(m=0;m<l;m++){Q=s.split(k[m],'|');R=s.split(Q[1],',');S=R.length"
+";for(T=0;T<S;T++){X=O.indexOf(R[T]);if(X==0)P=Q[0]}}}if(h=='1'&&!O)"
+"{u=P=t=p='Direct Load'}T=M+u+t;U=c?'c':'c_m';if(c!='0'){T=s.getValO"
+"nce(T,U,0);}if(T)M=M?M:'n/a';s._referrer=T&&p?p:'';s._referringDoma"
+"in=T&&t?t:'';s._partner=T&&N?N:'';s._campaignID=T&&O?O:'';s._campai"
+"gn=T&&u?u:'';s._keywords=T&&M?M:'';s._channel=T&&P?P:'';");

/* Top 130 - Compressed */
s.seList="altavista.co|q,r|AltaVista>aol.co.uk,search.aol.co.uk|query"
+"|AOL#United Kingdom>search.aol`,search.aol.ca|query,q|AOL.com Searc"
+"h>ask`,ask.co.uk|ask,q|Ask Jeeves>www.baidu`|wd|Baidu>daum.net,sear"
+"ch.daum.net|q|Daum>g%.co,g%syndication`|q,*|G%>g%`.ar|q,*|G%#Argent"
+"ina>g%`.au|q,*|G%#Australia>g%.at|q,*|G%#Austria>g%`.bh|q,*|G%#Bahr"
+"ain>g%`.bd|q,*|G%#Bangladesh>g%.be|q,*|G%#Belgium>g%`.bo|q,*|G%#Bol"
+"ivia>g%.ba|q,*|G%#Bosnia-Hercegovina>g%`.br|q,*|G%#Brasil>g%.bg|q,*"
+"|G%#Bulgaria>g%.ca|q,*|G%#Canada>g%.cl|q,*|G%#Chile>g%.cn|q,*|G%#Ch"
+"ina>g%`.co|q,*|G%#Colombia>g%.co.cr|q,*|G%#Costa Rica>g%.hr|q,*|G%#"
+"Croatia>g%.cz|q,*|G%#Czech Republic>g%.dk|q,*|G%#Denmark>g%`.do|q,*"
+"|G%#Dominican Republic>g%`.ec|q,*|G%#Ecuador>g%`.eg|q,*|G%#Egypt>g%"
+"`.sv|q,*|G%#El Salvador>g%.ee|q,*|G%#Estonia>g%.fi|q,*|G%#Finland>g"
+"%.fr|q,*|G%#France>g%.de|q,*|G%#Germany>g%.gr|q,*|G%#Greece>g%`.gt|"
+"q,*|G%#Guatemala>g%.hn|q,*|G%#Honduras>g%`.hk|q,*|G%#Hong Kong>g%.h"
+"u|q,*|G%#Hungary>g%.co.in|q,*|G%#India>g%.co.id|q,*|G%#Indonesia>g%"
+".ie|q,*|G%#Ireland>g%.is|q,*|G%#Island>g%.co.il|q,*|G%#Israel>g%.it"
+"|q,*|G%#Italy>g%`.jm|q,*|G%#Jamaica>g%.co.jp|q,*|G%#Japan>g%.jo|q,*"
+"|G%#Jordan>g%.co.ke|q,*|G%#Kenya>g%.co.kr|q,*|G%#Korea>g%.lv|q,*|G%"
+"#Latvia>g%.lt|q,*|G%#Lithuania>g%`.my|q,*|G%#Malaysia>g%`.mt|q,*|G%"
+"#Malta>g%.mu|q,*|G%#Mauritius>g%`.mx|q,*|G%#Mexico>g%.co.ma|q,*|G%#"
+"Morocco>g%.nl|q,*|G%#Netherlands>g%.co.nz|q,*|G%#New Zealand>g%`.ni"
+"|q,*|G%#Nicaragua>g%`.ng|q,*|G%#Nigeria>g%.no|q,*|G%#Norway>g%`.pk|"
+"q,*|G%#Pakistan>g%`.py|q,*|G%#Paraguay>g%`.pe|q,*|G%#Peru>g%`.ph|q,"
+"*|G%#Philippines>g%.pl|q,*|G%#Poland>g%.pt|q,*|G%#Portugal>g%`.pr|q"
+",*|G%#Puerto Rico>g%`.qa|q,*|G%#Qatar>g%.ro|q,*|G%#Romania>g%.ru|q,"
+"*|G%#Russia>g%.st|q,*|G%#Sao Tome and Principe>g%`.sa|q,*|G%#Saudi "
+"Arabia>g%`.sg|q,*|G%#Singapore>g%.sk|q,*|G%#Slovakia>g%.si|q,*|G%#S"
+"lovenia>g%.co.za|q,*|G%#South Africa>g%.es|q,*|G%#Spain>g%.lk|q,*|G"
+"%#Sri Lanka>g%.se|q,*|G%#Sweden>g%.ch|q,*|G%#Switzerland>g%`.tw|q,*"
+"|G%#Taiwan>g%.co.th|q,*|G%#Thailand>g%.bs|q,*|G%#The Bahamas>g%.tt|"
+"q,*|G%#Trinidad and Tobago>g%`.tr|q,*|G%#Turkey>g%`.ua|q,*|G%#Ukrai"
+"ne>g%.ae|q,*|G%#United Arab Emirates>g%.co.uk|q,*|G%#United Kingdom"
+">g%`.uy|q,*|G%#Uruguay>g%.co.ve|q,*|G%#Venezuela>g%`.vn|q,*|G%#Viet"
+" Nam>g%.co.vi|q,*|G%#Virgin Islands>icqit`|q|icq>bing`|q|Microsoft "
+"Bing>myway`|searchfor|MyWay.com>naver`,search.naver`|query|Naver>ne"
+"tscape`|query,search|Netscape Search>reference`|q|Reference.com>sez"
+"nam|w|Seznam.cz>abcsok.no|q|Startsiden>tiscali.it|key|Tiscali>virgi"
+"lio.it|qs|Virgilio>y^`,search.y^`|p|Y^!>ar.y^`,ar.search.y^`|p|Y^!#"
+"Argentina>au.y^`,au.search.y^`|p|Y^!#Australia>ca.y^`,ca.search.y^`"
+"|p|Y^!#Canada>fr.y^`,fr.search.y^`|p|Y^!#France>de.y^`,de.search.y^"
+"`|p|Y^!#Germany>hk.y^`,hk.search.y^`|p|Y^!#Hong Kong>in.y^`,in.sear"
+"ch.y^`|p|Y^!#India>y^.co.jp,search.y^.co.jp|p,va|Y^!#Japan>kr.y^`,k"
+"r.search.y^`|p|Y^!#Korea>mx.y^`,mx.search.y^`|p|Y^!#Mexico>ph.y^`,p"
+"h.search.y^`|p|Y^!#Philippines>sg.y^`,sg.search.y^`|p|Y^!#Singapore"
+">es.y^`,es.search.y^`|p|Y^!#Spain>telemundo.y^`,espanol.search.y^`|"
+"p|Y^!#Spanish (US : Telemundo)>tw.y^`,tw.search.y^`|p|Y^!#Taiwan>uk"
+".y^`,uk.search.y^`|p|Y^!#UK and Ireland>yandex|text|Yandex.ru>searc"
+"h.cnn.com|query|CNN Web Search>search.earthlink.net|q|Earthlink Sea"
+"rch>search.comcast.net|q|Comcast Search>search.rr.com|qs|RoadRunner"
+" Search>optimum.net|q|Optimum Search";



    /*
     * Plugin: getPreviousValue_v1.0 - return previous value of designated
     *   variable (requires split utility)
     */
    s.getPreviousValue=new Function("v","c","el",""
    +"var s=this,t=new Date,i,j,r='';t.setTime(t.getTime()+1800000);if(el"
    +"){if(s.events){i=s.split(el,',');j=s.split(s.events,',');for(x in i"
    +"){for(y in j){if(i[x]==j[y]){if(s.c_r(c)) r=s.c_r(c);v?s.c_w(c,v,t)"
    +":s.c_w(c,'no value',t);return r}}}}}else{if(s.c_r(c)) r=s.c_r(c);v?"
    +"s.c_w(c,v,t):s.c_w(c,'no value',t);return r}");

    /*
     * Plugin: getPercentPageViewed v1.71
     */
    s.getPercentPageViewed=new Function("n",""
    +"var s=this,W=window,EL=W.addEventListener,AE=W.attachEvent,E=['load"
    +"','unload','scroll','resize','zoom','keyup','mouseup','touchend','o"
    +"rientationchange','pan'];W.s_Obj=s;s_PPVid=(n=='-'?s.pageName:n)||s"
    +".pageName||location.href;if(!W.s_PPVevent){s.s_PPVg=function(n,r){v"
    +"ar k='s_ppv',p=k+'l',c=s.c_r(n||r?k:p),a=c.indexOf(',')>-1?c.split("
    +"',',10):[''],l=a.length,i;a[0]=unescape(a[0]);r=r||(n&&n!=a[0])||0;"
    +"a.length=10;if(typeof a[0]!='string')a[0]='';for(i=1;i<10;i++)a[i]="
    +"!r&&i<l?parseInt(a[i])||0:0;if(l<10||typeof a[9]!='string')a[9]='';"
    +"if(r){s.c_w(p,c);s.c_w(k,'?')}return a};W.s_PPVevent=function(e){va"
    +"r W=window,D=document,B=D.body,E=D.documentElement,S=window.screen|"
    +"|0,Ho='offsetHeight',Hs='scrollHeight',Ts='scrollTop',Wc='clientWid"
    +"th',Hc='clientHeight',C=100,M=Math,J='object',N='number',s=W.s_Obj|"
    +"|W.s||0;e=e&&typeof e==J?e.type||'':'';if(!e.indexOf('on'))e=e.subs"
    +"tring(2);s_PPVi=W.s_PPVi||0;if(W.s_PPVt&&!e){clearTimeout(s_PPVt);s"
    +"_PPVt=0;if(s_PPVi<2)s_PPVi++}if(typeof s==J){var h=M.max(B[Hs]||E[H"
    +"s],B[Ho]||E[Ho],B[Hc]||E[Hc]),X=W.innerWidth||E[Wc]||B[Wc]||0,Y=W.i"
    +"nnerHeight||E[Hc]||B[Hc]||0,x=S?S.width:0,y=S?S.height:0,r=M.round("
    +"C*(W.devicePixelRatio||1))/C,b=(D.pageYOffset||E[Ts]||B[Ts]||0)+Y,p"
    +"=h>0&&b>0?M.round(C*b/h):0,O=W.orientation,o=!isNaN(O)?M.abs(o)%180"
    +":Y>X?0:90,L=e=='load'||s_PPVi<1,a=s.s_PPVg(s_PPVid,L),V=function(i,"
    +"v,f,n){i=parseInt(typeof a==J&&a.length>i?a[i]:'0')||0;v=typeof v!="
    +"N?i:v;v=f||v>i?v:i;return n?v:v>C?C:v<0?0:v};if(new RegExp('(iPod|i"
    +"Pad|iPhone)').exec(navigator.userAgent||'')&&o){o=x;x=y;y=o}o=o?'P'"
    +":'L';a[9]=L?'':a[9].substring(0,1);s.c_w('s_ppv',escape(W.s_PPVid)+"
    +"','+V(1,p,L)+','+(L||!V(2)?p:V(2))+','+V(3,b,L,1)+','+X+','+Y+','+x"
    +"+','+y+','+r+','+a[9]+(a[9]==o?'':o))}if(!W.s_PPVt&&e!='unload')W.s"
    +"_PPVt=setTimeout(W.s_PPVevent,333)};for(var f=W.s_PPVevent,i=0;i<E."
    +"length;i++)if(EL)EL(E[i],f,false);else if(AE)AE('on'+E[i],f);f()};v"
    +"ar a=s.s_PPVg();return!n||n=='-'?a[1]:a");

var medialocations = window.location.toString();
if  (medialocations.indexOf("/live") < 0 && medialocations.indexOf("annual-report/2017/index.htm") < 0 && medialocations.indexOf("index-world.htm") < 0 && medialocations.indexOf("ja-jp/index.htm") < 0 && medialocations.indexOf("en-gb/index.htm") < 0 && medialocations.indexOf("hi-in/index.htm") < 0  && medialocations.indexOf("ru-ru/index.htm") < 0) {
    /*********Media Module Calls**************/
    s.loadModule("Media");

    /*Configure Media Module Functions */

    s.Media.autoTrack = true;
    s.Media.trackVars="events,eVar7,eVar36,eVar43,eVar42,eVar13,eVar9,prop23,prop51";
    s.Media.trackEvents="event23,event34,event39";
    s.Media.trackMilestones="50,75";
    //console.log("######normal mediaLength",mediaLength);
    //s.Media.playerName="My Media Player";
    s.Media.segmentByMilestones = false;
    s.Media.trackUsingContextData = true;

    // if Brigthcove, use s.Media.monitor below
    s.Media.contextDataMapping = {
        "a.media.name":"", // removed eVar43 and prop23 for custom intervention
        "a.media.view":"event34",
        "a.media.timePlayed":"event15",
        "a.media.segment":"eVar13",
        "a.media.complete":"event39",
        "a.media.segmentView":"event23"
    }


    // Brightcove (BC) Video Tracking
    s.Media.monitor = function (s,media) {
        mediaName = "";
        mediaName = window.bcVidID;

        //mediaName = jQuery('video.vjs-tech').attr("data-video-id");
        // need to account for multiple videos
        /*if (typeof event != 'undefined') {
        	mediaName = jQuery(event.target).attr("data-video-id");
        }
        else if (!mediaName) {
        	mediaName = jQuery('video').attr("data-video-id");
        }*/
        if (!mediaName){
                mediaName = jQuery('video.vjs-tech').attr("data-video-id");
        }else if (!mediaName) {
        	mediaName = jQuery('video').attr("src");
        }
        //window.bcVidID = mediaName;

        var BCscript = jQuery("script[src*='players.brightcove']");
        //if (BCscript.length >= 1) {
            s.eVar42 = window.brightcoveCaptions;
            s.eVar43 = s.prop23 = mediaName;
            s.eVar9 = 'Brightcove Video: HTML5 Player';
            s.eVar7 = s.pageName;
            s.eVar36 = 'D=g';
        //bbbbbbbb}

        if ((media.event == "MILESTONE") && (media.eventFirstTime)) {
            if (media.milestone == 50 || media.milestone == 75) {
                s.eVar43 = s.prop23 = mediaName;//tb
                if (mediaName != undefined){
              	    sendRequest();
                }
            }
        }

        if(media.event=="OPEN" || media.event=="CLOSE") {
                s.eVar43 = s.prop23 = mediaName;//tb
                if (mediaName != undefined){
        	         sendRequest();
                }
        }

        function sendRequest(){
            s.Media.track(media.name);
        }

    }
}
else if (medialocations.indexOf("/live") > 0) { // || medialocations.indexOf("/live.htm") < 0 ) {
        /*********Media Module Calls**************/
    s.loadModule("Media");

    /*Configure Media Module Functions */
    //console.log("###### Live mediaLength",mediaLength);
    s.Media.autoTrack = true;
    s.Media.trackVars="events,eVar7,eVar36,eVar43,eVar13,eVar9,prop23,prop51";
    s.Media.trackEvents="event23,event34,event39";
    //s.Media.trackMilestones="50";

    //s.Media.playerName="My Media Player";
    s.Media.segmentByMilestones = false;
    s.Media.trackUsingContextData = true;
    s.Media.trackOffsetMilestones="300,900,1800,2700"; // sends a call at 15 mins, 30, mins, 45 mins
//	s.Media.trackOffsetMilestones="300,600,900"; // test lengths 5 min 10 min 15 min
    s.Media.segmentByOffsetMilestones = true;

        s.Media.contextDataMapping = {
            "a.media.name":"", // removed eVar43 and prop23 for custom intervention
            "a.media.view":"event34",
            "a.media.timePlayed":"event15",
            "a.media.segment":"eVar13",
            "a.media.complete":"event39",
            "a.media.segmentView":"event23"
        }

    // Brightcove (BC) Video Tracking
    s.Media.monitor = function (s,media) {
        var segment ="";
        if(!s.eVar13){
           segment = s.eVar13;
        };

        mediaName = jQuery('video').attr("data-video-id");
            s.eVar43 = s.prop23 = mediaName;
            s.eVar9 = jQuery('video')["0"].playerId;
            s.eVar7 = s.pageName;
            s.eVar36 = 'D=g';

        if ((media.event == "MILESTONE") && (media.eventFirstTime)) {
            if (media.milestone == 50 ) {
                if (mediaName != undefined){
                   //  if (segment.indexOf("1:") >0 ){
        	         sendRequest();
                   //  }
                }
            }
        }

        if(media.event=="OPEN") {
            if (mediaName != undefined){
              // if (segment.indexOf("1:") >0 ){
        	//    sendRequest();
              // }
            }
        }


        function sendRequest(){

                    s.Media.track(media.name);

        }

    }
}

/* WARNING: Changing any of the below variables will cause drastic
changes to how your visitor data is collected.  Changes should only be
made when instructed to do so by your account manager. */


s.visitorNamespace="emc"
s.dc=122
s.trackingServer="ecn-analytics-nssl.emc.com"
s.trackingServerSecure="ecn-analytics.emc.com"
s.visitorMigrationKey="4D73E974"
s.visitorMigrationServer="emc.122.2o7.net"

/************************* MODULES SECTION **************************/
/* Module: Integrate */
function AppMeasurement_Module_Integrate(l){var c=this;c.s=l;var e=window;e.s_c_in||(e.s_c_il=[],e.s_c_in=0);c._il=e.s_c_il;c._in=e.s_c_in;c._il[c._in]=c;e.s_c_in++;c._c="s_m";c.list=[];c.add=function(d,b){var a;b||(b="s_Integrate_"+d);e[b]||(e[b]={});a=c[d]=e[b];a.a=d;a.e=c;a._c=0;a._d=0;void 0==a.disable&&(a.disable=0);a.get=function(b,d){var f=document,h=f.getElementsByTagName("HEAD"),k;if(!a.disable&&(d||(v="s_"+c._in+"_Integrate_"+a.a+"_get_"+a._c),a._c++,a.VAR=v,a.CALLBACK="s_c_il["+c._in+"]."+
a.a+".callback",a.delay(),h=h&&0<h.length?h[0]:f.body))try{k=f.createElement("SCRIPT"),k.type="text/javascript",k.setAttribute("async","async"),k.src=c.c(a,b),0>b.indexOf("[CALLBACK]")&&(k.onload=k.onreadystatechange=function(){a.callback(e[v])}),h.firstChild?h.insertBefore(k,h.firstChild):h.appendChild(k)}catch(l){}};a.callback=function(b){var c;if(b)for(c in b)Object.prototype[c]||(a[c]=b[c]);a.ready()};a.beacon=function(b){var d="s_i_"+c._in+"_Integrate_"+a.a+"_"+a._c;a.disable||(a._c++,d=e[d]=
new Image,d.src=c.c(a,b))};a.script=function(b){a.get(b,1)};a.delay=function(){a._d++};a.ready=function(){a._d--;a.disable||l.delayReady()};c.list.push(d)};c._g=function(d){var b,a=(d?"use":"set")+"Vars";for(d=0;d<c.list.length;d++)if((b=c[c.list[d]])&&!b.disable&&b[a])try{b[a](l,b)}catch(e){}};c._t=function(){c._g(1)};c._d=function(){var d,b;for(d=0;d<c.list.length;d++)if((b=c[c.list[d]])&&!b.disable&&0<b._d)return 1;return 0};c.c=function(c,b){var a,e,g,f;"http"!=b.toLowerCase().substring(0,4)&&
(b="http://"+b);l.ssl&&(b=l.replace(b,"http:","https:"));c.RAND=Math.floor(1E13*Math.random());for(a=0;0<=a;)a=b.indexOf("[",a),0<=a&&(e=b.indexOf("]",a),e>a&&(g=b.substring(a+1,e),2<g.length&&"s."==g.substring(0,2)?(f=l[g.substring(2)])||(f=""):(f=""+c[g],f!=c[g]&&parseFloat(f)!=c[g]&&(g=0)),g&&(b=b.substring(0,a)+encodeURIComponent(f)+b.substring(e+1)),a=e));return b}}

/* Module: Media */
function AppMeasurement_Module_Media(q){var b=this;b.s=q;q=window;q.s_c_in||(q.s_c_il=[],q.s_c_in=0);b._il=q.s_c_il;b._in=q.s_c_in;b._il[b._in]=b;q.s_c_in++;b._c="s_m";b.list=[];b.open=function(d,c,e,k){var f={},a=new Date,l="",g;c||(c=-1);if(d&&e){b.list||(b.list={});b.list[d]&&b.close(d);k&&k.id&&(l=k.id);if(l)for(g in b.list)!Object.prototype[g]&&b.list[g]&&b.list[g].R==l&&b.close(b.list[g].name);f.name=d;f.length=c;f.offset=0;f.e=0;f.playerName=b.playerName?b.playerName:e;f.R=l;f.C=0;f.a=0;f.timestamp=
Math.floor(a.getTime()/1E3);f.k=0;f.u=f.timestamp;f.c=-1;f.n="";f.g=-1;f.D=0;f.I={};f.G=0;f.m=0;f.f="";f.B=0;f.L=0;f.A=0;f.F=0;f.l=!1;f.v="";f.J="";f.K=0;f.r=!1;f.H="";f.complete=0;f.Q=0;f.p=0;f.q=0;b.list[d]=f}};b.openAd=function(d,c,e,k,f,a,l,g){var h={};b.open(d,c,e,g);if(h=b.list[d])h.l=!0,h.v=k,h.J=f,h.K=a,h.H=l};b.M=function(d){var c=b.list[d];b.list[d]=0;c&&c.monitor&&clearTimeout(c.monitor.interval)};b.close=function(d){b.i(d,0,-1)};b.play=function(d,c,e,k){var f=b.i(d,1,c,e,k);f&&!f.monitor&&
(f.monitor={},f.monitor.update=function(){1==f.k&&b.i(f.name,3,-1);f.monitor.interval=setTimeout(f.monitor.update,1E3)},f.monitor.update())};b.click=function(d,c){b.i(d,7,c)};b.complete=function(d,c){b.i(d,5,c)};b.stop=function(d,c){b.i(d,2,c)};b.track=function(d){b.i(d,4,-1)};b.P=function(d,c){var e="a.media.",k=d.linkTrackVars,f=d.linkTrackEvents,a="m_i",l,g=d.contextData,h;c.l&&(e+="ad.",c.v&&(g["a.media.name"]=c.v,g[e+"pod"]=c.J,g[e+"podPosition"]=c.K),c.G||(g[e+"CPM"]=c.H));c.r&&(g[e+"clicked"]=
!0,c.r=!1);g["a.contentType"]="video"+(c.l?"Ad":"");g["a.media.channel"]=b.channel;g[e+"name"]=c.name;g[e+"playerName"]=c.playerName;0<c.length&&(g[e+"length"]=c.length);g[e+"timePlayed"]=Math.floor(c.a);0<Math.floor(c.a)&&(g[e+"timePlayed"]=Math.floor(c.a));c.G||(g[e+"view"]=!0,a="m_s",b.Heartbeat&&b.Heartbeat.enabled&&(a=c.l?b.__primetime?"mspa_s":"msa_s":b.__primetime?"msp_s":"ms_s"),c.G=1);c.f&&(g[e+"segmentNum"]=c.m,g[e+"segment"]=c.f,0<c.B&&(g[e+"segmentLength"]=c.B),c.A&&0<c.a&&(g[e+"segmentView"]=
!0));!c.Q&&c.complete&&(g[e+"complete"]=!0,c.S=1);0<c.p&&(g[e+"milestone"]=c.p);0<c.q&&(g[e+"offsetMilestone"]=c.q);if(k)for(h in g)Object.prototype[h]||(k+=",contextData."+h);l=g["a.contentType"];d.pe=a;d.pev3=l;var q,s;if(b.contextDataMapping)for(h in d.events2||(d.events2=""),k&&(k+=",events"),b.contextDataMapping)if(!Object.prototype[h]){a=h.length>e.length&&h.substring(0,e.length)==e?h.substring(e.length):"";l=b.contextDataMapping[h];if("string"==typeof l)for(q=l.split(","),s=0;s<q.length;s++)l=
q[s],"a.contentType"==h?(k&&(k+=","+l),d[l]=g[h]):"view"==a||"segmentView"==a||"clicked"==a||"complete"==a||"timePlayed"==a||"CPM"==a?(f&&(f+=","+l),"timePlayed"==a||"CPM"==a?g[h]&&(d.events2+=(d.events2?",":"")+l+"="+g[h]):g[h]&&(d.events2+=(d.events2?",":"")+l)):"segment"==a&&g[h+"Num"]?(k&&(k+=","+l),d[l]=g[h+"Num"]+":"+g[h]):(k&&(k+=","+l),d[l]=g[h]);else if("milestones"==a||"offsetMilestones"==a)h=h.substring(0,h.length-1),g[h]&&b.contextDataMapping[h+"s"][g[h]]&&(f&&(f+=","+b.contextDataMapping[h+
"s"][g[h]]),d.events2+=(d.events2?",":"")+b.contextDataMapping[h+"s"][g[h]]);g[h]&&(g[h]=0);"segment"==a&&g[h+"Num"]&&(g[h+"Num"]=0)}d.linkTrackVars=k;d.linkTrackEvents=f};b.i=function(d,c,e,k,f){var a={},l=(new Date).getTime()/1E3,g,h,q=b.trackVars,s=b.trackEvents,t=b.trackSeconds,u=b.trackMilestones,v=b.trackOffsetMilestones,w=b.segmentByMilestones,x=b.segmentByOffsetMilestones,p,n,r=1,m={},y;b.channel||(b.channel=b.s.w.location.hostname);if(a=d&&b.list&&b.list[d]?b.list[d]:0)if(a.l&&(t=b.adTrackSeconds,
u=b.adTrackMilestones,v=b.adTrackOffsetMilestones,w=b.adSegmentByMilestones,x=b.adSegmentByOffsetMilestones),0>e&&(e=1==a.k&&0<a.u?l-a.u+a.c:a.c),0<a.length&&(e=e<a.length?e:a.length),0>e&&(e=0),a.offset=e,0<a.length&&(a.e=a.offset/a.length*100,a.e=100<a.e?100:a.e),0>a.c&&(a.c=e),y=a.D,m.name=d,m.ad=a.l,m.length=a.length,m.openTime=new Date,m.openTime.setTime(1E3*a.timestamp),m.offset=a.offset,m.percent=a.e,m.playerName=a.playerName,m.mediaEvent=0>a.g?"OPEN":1==c?"PLAY":2==c?"STOP":3==c?"MONITOR":
4==c?"TRACK":5==c?"COMPLETE":7==c?"CLICK":"CLOSE",2<c||c!=a.k&&(2!=c||1==a.k)){f||(k=a.m,f=a.f);if(c){1==c&&(a.c=e);if((3>=c||5<=c)&&0<=a.g&&(r=!1,q=s="None",a.g!=e)){h=a.g;h>e&&(h=a.c,h>e&&(h=e));p=u?u.split(","):0;if(0<a.length&&p&&e>=h)for(n=0;n<p.length;n++)(g=p[n]?parseFloat(""+p[n]):0)&&h/a.length*100<g&&a.e>=g&&(r=!0,n=p.length,m.mediaEvent="MILESTONE",a.p=m.milestone=g);if((p=v?v.split(","):0)&&e>=h)for(n=0;n<p.length;n++)(g=p[n]?parseFloat(""+p[n]):0)&&h<g&&e>=g&&(r=!0,n=p.length,m.mediaEvent=
"OFFSET_MILESTONE",a.q=m.offsetMilestone=g)}if(a.L||!f){if(w&&u&&0<a.length){if(p=u.split(","))for(p.push("100"),n=h=0;n<p.length;n++)if(g=p[n]?parseFloat(""+p[n]):0)a.e<g&&(k=n+1,f="M:"+h+"-"+g,n=p.length),h=g}else if(x&&v&&(p=v.split(",")))for(p.push(""+(0<a.length?a.length:"E")),n=h=0;n<p.length;n++)if((g=p[n]?parseFloat(""+p[n]):0)||"E"==p[n]){if(e<g||"E"==p[n])k=n+1,f="O:"+h+"-"+g,n=p.length;h=g}f&&(a.L=!0)}(f||a.f)&&f!=a.f&&(a.F=!0,a.f||(a.m=k,a.f=f),0<=a.g&&(r=!0));(2<=c||100<=a.e)&&a.c<e&&
(a.C+=e-a.c,a.a+=e-a.c);if(2>=c||3==c&&!a.k)a.n+=(1==c||3==c?"S":"E")+Math.floor(e),a.k=3==c?1:c;!r&&0<=a.g&&3>=c&&(t=t?t:0)&&a.a>=t&&(r=!0,m.mediaEvent="SECONDS");a.u=l;a.c=e}if(!c||3>=c&&100<=a.e)2!=a.k&&(a.n+="E"+Math.floor(e)),c=0,q=s="None",m.mediaEvent="CLOSE";7==c&&(r=m.clicked=a.r=!0);if(5==c||b.completeByCloseOffset&&(!c||100<=a.e)&&0<a.length&&e>=a.length-b.completeCloseOffsetThreshold)r=m.complete=a.complete=!0;l=m.mediaEvent;"MILESTONE"==l?l+="_"+m.milestone:"OFFSET_MILESTONE"==l&&(l+=
"_"+m.offsetMilestone);a.I[l]?m.eventFirstTime=!1:(m.eventFirstTime=!0,a.I[l]=1);m.event=m.mediaEvent;m.timePlayed=a.C;m.segmentNum=a.m;m.segment=a.f;m.segmentLength=a.B;b.monitor&&4!=c&&b.monitor(b.s,m);b.Heartbeat&&b.Heartbeat.enabled&&0<=a.g&&(r=!1);0==c&&b.M(d);r&&a.D==y&&(d={contextData:{}},d.linkTrackVars=q,d.linkTrackEvents=s,d.linkTrackVars||(d.linkTrackVars=""),d.linkTrackEvents||(d.linkTrackEvents=""),b.P(d,a),d.linkTrackVars||(d["!linkTrackVars"]=1),d.linkTrackEvents||(d["!linkTrackEvents"]=
1),b.s.track(d),a.F?(a.m=k,a.f=f,a.A=!0,a.F=!1):0<a.a&&(a.A=!1),a.n="",a.p=a.q=0,a.a-=Math.floor(a.a),a.g=e,a.D++)}return a};b.O=function(d,c,e,k,f){var a=0;if(d&&(!b.autoTrackMediaLengthRequired||c&&0<c)){if(b.list&&b.list[d])a=1;else if(1==e||3==e)b.open(d,c,"HTML5 Video",f),a=1;a&&b.i(d,e,k,-1,0)}};b.attach=function(d){var c,e,k;d&&d.tagName&&"VIDEO"==d.tagName.toUpperCase()&&(b.o||(b.o=function(c,a,d){var e,h;b.autoTrack&&(e=c.currentSrc,(h=c.duration)||(h=-1),0>d&&(d=c.currentTime),b.O(e,h,a,
d,c))}),c=function(){b.o(d,1,-1)},e=function(){b.o(d,1,-1)},b.j(d,"play",c),b.j(d,"pause",e),b.j(d,"seeking",e),b.j(d,"seeked",c),b.j(d,"ended",function(){b.o(d,0,-1)}),b.j(d,"timeupdate",c),k=function(){d.paused||d.ended||d.seeking||b.o(d,3,-1);setTimeout(k,1E3)},k())};b.j=function(b,c,e){b.attachEvent?b.attachEvent("on"+c,e):b.addEventListener&&b.addEventListener(c,e,!1)};void 0==b.completeByCloseOffset&&(b.completeByCloseOffset=1);void 0==b.completeCloseOffsetThreshold&&(b.completeCloseOffsetThreshold=
1);b.Heartbeat={};b.N=function(){var d,c;if(b.autoTrack&&(d=b.s.d.getElementsByTagName("VIDEO")))for(c=0;c<d.length;c++)b.attach(d[c])};b.j(q,"load",b.N)}

/*
 Start ActivityMap Module

 The following module enables ActivityMap tracking in Adobe Analytics. ActivityMap
 allows you to view data overlays on your links and content to understand how
 users engage with your web site. If you do not intend to use ActivityMap, you
 can remove the following block of code from your AppMeasurement.js file.
 Additional documentation on how to configure ActivityMap is available at:
 https://marketing.adobe.com/resources/help/en_US/analytics/activitymap/getting-started-admins.html
*/
function AppMeasurement_Module_ActivityMap(f){function g(a,d){var b,c,n;if(a&&d&&(b=e.c[d]||(e.c[d]=d.split(","))))for(n=0;n<b.length&&(c=b[n++]);)if(-1<a.indexOf(c))return null;p=1;return a}function q(a,d,b,c,e){var g,h;if(a.dataset&&(h=a.dataset[d]))g=h;else if(a.getAttribute)if(h=a.getAttribute("data-"+b))g=h;else if(h=a.getAttribute(b))g=h;if(!g&&f.useForcedLinkTracking&&e&&(g="",d=a.onclick?""+a.onclick:"")){b=d.indexOf(c);var l,k;if(0<=b){for(b+=10;b<d.length&&0<="= \t\r\n".indexOf(d.charAt(b));)b++;
if(b<d.length){h=b;for(l=k=0;h<d.length&&(";"!=d.charAt(h)||l);)l?d.charAt(h)!=l||k?k="\\"==d.charAt(h)?!k:0:l=0:(l=d.charAt(h),'"'!=l&&"'"!=l&&(l=0)),h++;if(d=d.substring(b,h))a.e=new Function("s","var e;try{s.w."+c+"="+d+"}catch(e){}"),a.e(f)}}}return g||e&&f.w[c]}function r(a,d,b){var c;return(c=e[d](a,b))&&(p?(p=0,c):g(k(c),e[d+"Exclusions"]))}function s(a,d,b){var c;if(a&&!(1===(c=a.nodeType)&&(c=a.nodeName)&&(c=c.toUpperCase())&&t[c])&&(1===a.nodeType&&(c=a.nodeValue)&&(d[d.length]=c),b.a||
b.t||b.s||!a.getAttribute||((c=a.getAttribute("alt"))?b.a=c:(c=a.getAttribute("title"))?b.t=c:"IMG"==(""+a.nodeName).toUpperCase()&&(c=a.getAttribute("src")||a.src)&&(b.s=c)),(c=a.childNodes)&&c.length))for(a=0;a<c.length;a++)s(c[a],d,b)}function k(a){if(null==a||void 0==a)return a;try{return a.replace(RegExp("^[\\s\\n\\f\\r\\t\t-\r \u00a0\u1680\u180e\u2000-\u200a\u2028\u2029\u205f\u3000\ufeff]+","mg"),"").replace(RegExp("[\\s\\n\\f\\r\\t\t-\r \u00a0\u1680\u180e\u2000-\u200a\u2028\u2029\u205f\u3000\ufeff]+$",
"mg"),"").replace(RegExp("[\\s\\n\\f\\r\\t\t-\r \u00a0\u1680\u180e\u2000-\u200a\u2028\u2029\u205f\u3000\ufeff]{1,}","mg")," ").substring(0,254)}catch(d){}}var e=this;e.s=f;var m=window;m.s_c_in||(m.s_c_il=[],m.s_c_in=0);e._il=m.s_c_il;e._in=m.s_c_in;e._il[e._in]=e;m.s_c_in++;e._c="s_m";e.c={};var p=0,t={SCRIPT:1,STYLE:1,LINK:1,CANVAS:1};e._g=function(){var a,d,b,c=f.contextData,e=f.linkObject;(a=f.pageName||f.pageURL)&&(d=r(e,"link",f.linkName))&&(b=r(e,"region"))&&(c["a.activitymap.page"]=a.substring(0,
255),c["a.activitymap.link"]=128<d.length?d.substring(0,128):d,c["a.activitymap.region"]=127<b.length?b.substring(0,127):b,c["a.activitymap.pageIDType"]=f.pageName?1:0)};e.link=function(a,d){var b;if(d)b=g(k(d),e.linkExclusions);else if((b=a)&&!(b=q(a,"sObjectId","s-object-id","s_objectID",1))){var c,f;(f=g(k(a.innerText||a.textContent),e.linkExclusions))||(s(a,c=[],b={a:void 0,t:void 0,s:void 0}),(f=g(k(c.join(""))))||(f=g(k(b.a?b.a:b.t?b.t:b.s?b.s:void 0)))||!(c=(c=a.tagName)&&c.toUpperCase?c.toUpperCase():
"")||("INPUT"==c||"SUBMIT"==c&&a.value?f=g(k(a.value)):"IMAGE"==c&&a.src&&(f=g(k(a.src)))));b=f}return b};e.region=function(a){for(var d,b=e.regionIDAttribute||"id";a&&(a=a.parentNode);){if(d=q(a,b,b,b))return d;if("BODY"==a.nodeName)return"BODY"}}}
/* End ActivityMap Module */


/*	FOR ACTIVITY MAP*/
s.ActivityMap.link = function(ele,linkName){

  if(linkName){
  return linkName;
  }
  if(ele){
    if(ele.tagName == 'A' && ele.href){

      return ele.innerText +":"+ele.href.split('?')[0];
    } else if(ele.tagName == 'BUTTON'){

        return ele.innerText;
    }
  }
}


/*
 ============== DO NOT ALTER ANYTHING BELOW THIS LINE ! ===============

AppMeasurement for JavaScript version: 1.7.0
Copyright 1996-2016 Adobe, Inc. All Rights Reserved
More info available at http://www.adobe.com/marketing-cloud.html
*/
function AppMeasurement(){var a=this;a.version="1.7.0";var k=window;k.s_c_in||(k.s_c_il=[],k.s_c_in=0);a._il=k.s_c_il;a._in=k.s_c_in;a._il[a._in]=a;k.s_c_in++;a._c="s_c";var q=k.AppMeasurement.Jb;q||(q=null);var r=k,n,t;try{for(n=r.parent,t=r.location;n&&n.location&&t&&""+n.location!=""+t&&r.location&&""+n.location!=""+r.location&&n.location.host==t.host;)r=n,n=r.parent}catch(u){}a.yb=function(a){try{console.log(a)}catch(b){}};a.Ha=function(a){return""+parseInt(a)==""+a};a.replace=function(a,b,d){return!a||
0>a.indexOf(b)?a:a.split(b).join(d)};a.escape=function(c){var b,d;if(!c)return c;c=encodeURIComponent(c);for(b=0;7>b;b++)d="+~!*()'".substring(b,b+1),0<=c.indexOf(d)&&(c=a.replace(c,d,"%"+d.charCodeAt(0).toString(16).toUpperCase()));return c};a.unescape=function(c){if(!c)return c;c=0<=c.indexOf("+")?a.replace(c,"+"," "):c;try{return decodeURIComponent(c)}catch(b){}return unescape(c)};a.pb=function(){var c=k.location.hostname,b=a.fpCookieDomainPeriods,d;b||(b=a.cookieDomainPeriods);if(c&&!a.cookieDomain&&
!/^[0-9.]+$/.test(c)&&(b=b?parseInt(b):2,b=2<b?b:2,d=c.lastIndexOf("."),0<=d)){for(;0<=d&&1<b;)d=c.lastIndexOf(".",d-1),b--;a.cookieDomain=0<d?c.substring(d):c}return a.cookieDomain};a.c_r=a.cookieRead=function(c){c=a.escape(c);var b=" "+a.d.cookie,d=b.indexOf(" "+c+"="),f=0>d?d:b.indexOf(";",d);c=0>d?"":a.unescape(b.substring(d+2+c.length,0>f?b.length:f));return"[[B]]"!=c?c:""};a.c_w=a.cookieWrite=function(c,b,d){var f=a.pb(),e=a.cookieLifetime,g;b=""+b;e=e?(""+e).toUpperCase():"";d&&"SESSION"!=
e&&"NONE"!=e&&((g=""!=b?parseInt(e?e:0):-60)?(d=new Date,d.setTime(d.getTime()+1E3*g)):1==d&&(d=new Date,g=d.getYear(),d.setYear(g+5+(1900>g?1900:0))));return c&&"NONE"!=e?(a.d.cookie=a.escape(c)+"="+a.escape(""!=b?b:"[[B]]")+"; path=/;"+(d&&"SESSION"!=e?" expires="+d.toGMTString()+";":"")+(f?" domain="+f+";":""),a.cookieRead(c)==b):0};a.K=[];a.ha=function(c,b,d){if(a.Aa)return 0;a.maxDelay||(a.maxDelay=250);var f=0,e=(new Date).getTime()+a.maxDelay,g=a.d.visibilityState,m=["webkitvisibilitychange",
"visibilitychange"];g||(g=a.d.webkitVisibilityState);if(g&&"prerender"==g){if(!a.ia)for(a.ia=1,d=0;d<m.length;d++)a.d.addEventListener(m[d],function(){var b=a.d.visibilityState;b||(b=a.d.webkitVisibilityState);"visible"==b&&(a.ia=0,a.delayReady())});f=1;e=0}else d||a.p("_d")&&(f=1);f&&(a.K.push({m:c,a:b,t:e}),a.ia||setTimeout(a.delayReady,a.maxDelay));return f};a.delayReady=function(){var c=(new Date).getTime(),b=0,d;for(a.p("_d")?b=1:a.va();0<a.K.length;){d=a.K.shift();if(b&&!d.t&&d.t>c){a.K.unshift(d);
setTimeout(a.delayReady,parseInt(a.maxDelay/2));break}a.Aa=1;a[d.m].apply(a,d.a);a.Aa=0}};a.setAccount=a.sa=function(c){var b,d;if(!a.ha("setAccount",arguments))if(a.account=c,a.allAccounts)for(b=a.allAccounts.concat(c.split(",")),a.allAccounts=[],b.sort(),d=0;d<b.length;d++)0!=d&&b[d-1]==b[d]||a.allAccounts.push(b[d]);else a.allAccounts=c.split(",")};a.foreachVar=function(c,b){var d,f,e,g,m="";e=f="";if(a.lightProfileID)d=a.O,(m=a.lightTrackVars)&&(m=","+m+","+a.ma.join(",")+",");else{d=a.g;if(a.pe||
a.linkType)m=a.linkTrackVars,f=a.linkTrackEvents,a.pe&&(e=a.pe.substring(0,1).toUpperCase()+a.pe.substring(1),a[e]&&(m=a[e].Hb,f=a[e].Gb));m&&(m=","+m+","+a.G.join(",")+",");f&&m&&(m+=",events,")}b&&(b=","+b+",");for(f=0;f<d.length;f++)e=d[f],(g=a[e])&&(!m||0<=m.indexOf(","+e+","))&&(!b||0<=b.indexOf(","+e+","))&&c(e,g)};a.r=function(c,b,d,f,e){var g="",m,p,k,w,n=0;"contextData"==c&&(c="c");if(b){for(m in b)if(!(Object.prototype[m]||e&&m.substring(0,e.length)!=e)&&b[m]&&(!d||0<=d.indexOf(","+(f?f+
".":"")+m+","))){k=!1;if(n)for(p=0;p<n.length;p++)m.substring(0,n[p].length)==n[p]&&(k=!0);if(!k&&(""==g&&(g+="&"+c+"."),p=b[m],e&&(m=m.substring(e.length)),0<m.length))if(k=m.indexOf("."),0<k)p=m.substring(0,k),k=(e?e:"")+p+".",n||(n=[]),n.push(k),g+=a.r(p,b,d,f,k);else if("boolean"==typeof p&&(p=p?"true":"false"),p){if("retrieveLightData"==f&&0>e.indexOf(".contextData."))switch(k=m.substring(0,4),w=m.substring(4),m){case "transactionID":m="xact";break;case "channel":m="ch";break;case "campaign":m=
"v0";break;default:a.Ha(w)&&("prop"==k?m="c"+w:"eVar"==k?m="v"+w:"list"==k?m="l"+w:"hier"==k&&(m="h"+w,p=p.substring(0,255)))}g+="&"+a.escape(m)+"="+a.escape(p)}}""!=g&&(g+="&."+c)}return g};a.usePostbacks=0;a.sb=function(){var c="",b,d,f,e,g,m,p,k,n="",r="",s=e="";if(a.lightProfileID)b=a.O,(n=a.lightTrackVars)&&(n=","+n+","+a.ma.join(",")+",");else{b=a.g;if(a.pe||a.linkType)n=a.linkTrackVars,r=a.linkTrackEvents,a.pe&&(e=a.pe.substring(0,1).toUpperCase()+a.pe.substring(1),a[e]&&(n=a[e].Hb,r=a[e].Gb));
n&&(n=","+n+","+a.G.join(",")+",");r&&(r=","+r+",",n&&(n+=",events,"));a.events2&&(s+=(""!=s?",":"")+a.events2)}if(a.visitor&&1.5<=parseFloat(a.visitor.version)&&a.visitor.getCustomerIDs){e=q;if(g=a.visitor.getCustomerIDs())for(d in g)Object.prototype[d]||(f=g[d],e||(e={}),f.id&&(e[d+".id"]=f.id),f.authState&&(e[d+".as"]=f.authState));e&&(c+=a.r("cid",e))}a.AudienceManagement&&a.AudienceManagement.isReady()&&(c+=a.r("d",a.AudienceManagement.getEventCallConfigParams()));for(d=0;d<b.length;d++){e=b[d];
g=a[e];f=e.substring(0,4);m=e.substring(4);!g&&"events"==e&&s&&(g=s,s="");if(g&&(!n||0<=n.indexOf(","+e+","))){switch(e){case "supplementalDataID":e="sdid";break;case "timestamp":e="ts";break;case "dynamicVariablePrefix":e="D";break;case "visitorID":e="vid";break;case "marketingCloudVisitorID":e="mid";break;case "analyticsVisitorID":e="aid";break;case "audienceManagerLocationHint":e="aamlh";break;case "audienceManagerBlob":e="aamb";break;case "authState":e="as";break;case "pageURL":e="g";255<g.length&&
(a.pageURLRest=g.substring(255),g=g.substring(0,255));break;case "pageURLRest":e="-g";break;case "referrer":e="r";break;case "vmk":case "visitorMigrationKey":e="vmt";break;case "visitorMigrationServer":e="vmf";a.ssl&&a.visitorMigrationServerSecure&&(g="");break;case "visitorMigrationServerSecure":e="vmf";!a.ssl&&a.visitorMigrationServer&&(g="");break;case "charSet":e="ce";break;case "visitorNamespace":e="ns";break;case "cookieDomainPeriods":e="cdp";break;case "cookieLifetime":e="cl";break;case "variableProvider":e=
"vvp";break;case "currencyCode":e="cc";break;case "channel":e="ch";break;case "transactionID":e="xact";break;case "campaign":e="v0";break;case "latitude":e="lat";break;case "longitude":e="lon";break;case "resolution":e="s";break;case "colorDepth":e="c";break;case "javascriptVersion":e="j";break;case "javaEnabled":e="v";break;case "cookiesEnabled":e="k";break;case "browserWidth":e="bw";break;case "browserHeight":e="bh";break;case "connectionType":e="ct";break;case "homepage":e="hp";break;case "events":s&&
(g+=(""!=g?",":"")+s);if(r)for(m=g.split(","),g="",f=0;f<m.length;f++)p=m[f],k=p.indexOf("="),0<=k&&(p=p.substring(0,k)),k=p.indexOf(":"),0<=k&&(p=p.substring(0,k)),0<=r.indexOf(","+p+",")&&(g+=(g?",":"")+m[f]);break;case "events2":g="";break;case "contextData":c+=a.r("c",a[e],n,e);g="";break;case "lightProfileID":e="mtp";break;case "lightStoreForSeconds":e="mtss";a.lightProfileID||(g="");break;case "lightIncrementBy":e="mti";a.lightProfileID||(g="");break;case "retrieveLightProfiles":e="mtsr";break;
case "deleteLightProfiles":e="mtsd";break;case "retrieveLightData":a.retrieveLightProfiles&&(c+=a.r("mts",a[e],n,e));g="";break;default:a.Ha(m)&&("prop"==f?e="c"+m:"eVar"==f?e="v"+m:"list"==f?e="l"+m:"hier"==f&&(e="h"+m,g=g.substring(0,255)))}g&&(c+="&"+e+"="+("pev"!=e.substring(0,3)?a.escape(g):g))}"pev3"==e&&a.e&&(c+=a.e)}return c};a.D=function(a){var b=a.tagName;if("undefined"!=""+a.Mb||"undefined"!=""+a.Cb&&"HTML"!=(""+a.Cb).toUpperCase())return"";b=b&&b.toUpperCase?b.toUpperCase():"";"SHAPE"==
b&&(b="");b&&(("INPUT"==b||"BUTTON"==b)&&a.type&&a.type.toUpperCase?b=a.type.toUpperCase():!b&&a.href&&(b="A"));return b};a.Da=function(a){var b=a.href?a.href:"",d,f,e;d=b.indexOf(":");f=b.indexOf("?");e=b.indexOf("/");b&&(0>d||0<=f&&d>f||0<=e&&d>e)&&(f=a.protocol&&1<a.protocol.length?a.protocol:l.protocol?l.protocol:"",d=l.pathname.lastIndexOf("/"),b=(f?f+"//":"")+(a.host?a.host:l.host?l.host:"")+("/"!=h.substring(0,1)?l.pathname.substring(0,0>d?0:d)+"/":"")+b);return b};a.L=function(c){var b=a.D(c),
d,f,e="",g=0;return b&&(d=c.protocol,f=c.onclick,!c.href||"A"!=b&&"AREA"!=b||f&&d&&!(0>d.toLowerCase().indexOf("javascript"))?f?(e=a.replace(a.replace(a.replace(a.replace(""+f,"\r",""),"\n",""),"\t","")," ",""),g=2):"INPUT"==b||"SUBMIT"==b?(c.value?e=c.value:c.innerText?e=c.innerText:c.textContent&&(e=c.textContent),g=3):"IMAGE"==b&&c.src&&(e=c.src):e=a.Da(c),e)?{id:e.substring(0,100),type:g}:0};a.Kb=function(c){for(var b=a.D(c),d=a.L(c);c&&!d&&"BODY"!=b;)if(c=c.parentElement?c.parentElement:c.parentNode)b=
a.D(c),d=a.L(c);d&&"BODY"!=b||(c=0);c&&(b=c.onclick?""+c.onclick:"",0<=b.indexOf(".tl(")||0<=b.indexOf(".trackLink("))&&(c=0);return c};a.Bb=function(){var c,b,d=a.linkObject,f=a.linkType,e=a.linkURL,g,m;a.na=1;d||(a.na=0,d=a.clickObject);if(d){c=a.D(d);for(b=a.L(d);d&&!b&&"BODY"!=c;)if(d=d.parentElement?d.parentElement:d.parentNode)c=a.D(d),b=a.L(d);b&&"BODY"!=c||(d=0);if(d&&!a.linkObject){var p=d.onclick?""+d.onclick:"";if(0<=p.indexOf(".tl(")||0<=p.indexOf(".trackLink("))d=0}}else a.na=1;!e&&d&&
(e=a.Da(d));e&&!a.linkLeaveQueryString&&(g=e.indexOf("?"),0<=g&&(e=e.substring(0,g)));if(!f&&e){var n=0,r=0,q;if(a.trackDownloadLinks&&a.linkDownloadFileTypes)for(p=e.toLowerCase(),g=p.indexOf("?"),m=p.indexOf("#"),0<=g?0<=m&&m<g&&(g=m):g=m,0<=g&&(p=p.substring(0,g)),g=a.linkDownloadFileTypes.toLowerCase().split(","),m=0;m<g.length;m++)(q=g[m])&&p.substring(p.length-(q.length+1))=="."+q&&(f="d");if(a.trackExternalLinks&&!f&&(p=e.toLowerCase(),a.Ga(p)&&(a.linkInternalFilters||(a.linkInternalFilters=
k.location.hostname),g=0,a.linkExternalFilters?(g=a.linkExternalFilters.toLowerCase().split(","),n=1):a.linkInternalFilters&&(g=a.linkInternalFilters.toLowerCase().split(",")),g))){for(m=0;m<g.length;m++)q=g[m],0<=p.indexOf(q)&&(r=1);r?n&&(f="e"):n||(f="e")}}a.linkObject=d;a.linkURL=e;a.linkType=f;if(a.trackClickMap||a.trackInlineStats)a.e="",d&&(f=a.pageName,e=1,d=d.sourceIndex,f||(f=a.pageURL,e=0),k.s_objectID&&(b.id=k.s_objectID,d=b.type=1),f&&b&&b.id&&c&&(a.e="&pid="+a.escape(f.substring(0,255))+
(e?"&pidt="+e:"")+"&oid="+a.escape(b.id.substring(0,100))+(b.type?"&oidt="+b.type:"")+"&ot="+c+(d?"&oi="+d:"")))};a.tb=function(){var c=a.na,b=a.linkType,d=a.linkURL,f=a.linkName;b&&(d||f)&&(b=b.toLowerCase(),"d"!=b&&"e"!=b&&(b="o"),a.pe="lnk_"+b,a.pev1=d?a.escape(d):"",a.pev2=f?a.escape(f):"",c=1);a.abort&&(c=0);if(a.trackClickMap||a.trackInlineStats||a.ActivityMap){var b={},d=0,e=a.cookieRead("s_sq"),g=e?e.split("&"):0,m,p,k,e=0;if(g)for(m=0;m<g.length;m++)p=g[m].split("="),f=a.unescape(p[0]).split(","),
p=a.unescape(p[1]),b[p]=f;f=a.account.split(",");m={};for(k in a.contextData)k&&!Object.prototype[k]&&"a.activitymap."==k.substring(0,14)&&(m[k]=a.contextData[k],a.contextData[k]="");a.e=a.r("c",m)+(a.e?a.e:"");if(c||a.e){c&&!a.e&&(e=1);for(p in b)if(!Object.prototype[p])for(k=0;k<f.length;k++)for(e&&(g=b[p].join(","),g==a.account&&(a.e+=("&"!=p.charAt(0)?"&":"")+p,b[p]=[],d=1)),m=0;m<b[p].length;m++)g=b[p][m],g==f[k]&&(e&&(a.e+="&u="+a.escape(g)+("&"!=p.charAt(0)?"&":"")+p+"&u=0"),b[p].splice(m,
1),d=1);c||(d=1);if(d){e="";m=2;!c&&a.e&&(e=a.escape(f.join(","))+"="+a.escape(a.e),m=1);for(p in b)!Object.prototype[p]&&0<m&&0<b[p].length&&(e+=(e?"&":"")+a.escape(b[p].join(","))+"="+a.escape(p),m--);a.cookieWrite("s_sq",e)}}}return c};a.ub=function(){if(!a.Fb){var c=new Date,b=r.location,d,f,e=f=d="",g="",m="",k="1.2",n=a.cookieWrite("s_cc","true",0)?"Y":"N",q="",s="";if(c.setUTCDate&&(k="1.3",(0).toPrecision&&(k="1.5",c=[],c.forEach))){k="1.6";f=0;d={};try{f=new Iterator(d),f.next&&(k="1.7",
c.reduce&&(k="1.8",k.trim&&(k="1.8.1",Date.parse&&(k="1.8.2",Object.create&&(k="1.8.5")))))}catch(t){}}d=screen.width+"x"+screen.height;e=navigator.javaEnabled()?"Y":"N";f=screen.pixelDepth?screen.pixelDepth:screen.colorDepth;g=a.w.innerWidth?a.w.innerWidth:a.d.documentElement.offsetWidth;m=a.w.innerHeight?a.w.innerHeight:a.d.documentElement.offsetHeight;try{a.b.addBehavior("#default#homePage"),q=a.b.Lb(b)?"Y":"N"}catch(u){}try{a.b.addBehavior("#default#clientCaps"),s=a.b.connectionType}catch(x){}a.resolution=
d;a.colorDepth=f;a.javascriptVersion=k;a.javaEnabled=e;a.cookiesEnabled=n;a.browserWidth=g;a.browserHeight=m;a.connectionType=s;a.homepage=q;a.Fb=1}};a.P={};a.loadModule=function(c,b){var d=a.P[c];if(!d){d=k["AppMeasurement_Module_"+c]?new k["AppMeasurement_Module_"+c](a):{};a.P[c]=a[c]=d;d.Xa=function(){return d.ab};d.bb=function(b){if(d.ab=b)a[c+"_onLoad"]=b,a.ha(c+"_onLoad",[a,d],1)||b(a,d)};try{Object.defineProperty?Object.defineProperty(d,"onLoad",{get:d.Xa,set:d.bb}):d._olc=1}catch(f){d._olc=
1}}b&&(a[c+"_onLoad"]=b,a.ha(c+"_onLoad",[a,d],1)||b(a,d))};a.p=function(c){var b,d;for(b in a.P)if(!Object.prototype[b]&&(d=a.P[b])&&(d._olc&&d.onLoad&&(d._olc=0,d.onLoad(a,d)),d[c]&&d[c]()))return 1;return 0};a.wb=function(){var c=Math.floor(1E13*Math.random()),b=a.visitorSampling,d=a.visitorSamplingGroup,d="s_vsn_"+(a.visitorNamespace?a.visitorNamespace:a.account)+(d?"_"+d:""),f=a.cookieRead(d);if(b){f&&(f=parseInt(f));if(!f){if(!a.cookieWrite(d,c))return 0;f=c}if(f%1E4>v)return 0}return 1};a.Q=
function(c,b){var d,f,e,g,m,k;for(d=0;2>d;d++)for(f=0<d?a.wa:a.g,e=0;e<f.length;e++)if(g=f[e],(m=c[g])||c["!"+g]){if(!b&&("contextData"==g||"retrieveLightData"==g)&&a[g])for(k in a[g])m[k]||(m[k]=a[g][k]);a[g]=m}};a.Qa=function(c,b){var d,f,e,g;for(d=0;2>d;d++)for(f=0<d?a.wa:a.g,e=0;e<f.length;e++)g=f[e],c[g]=a[g],b||c[g]||(c["!"+g]=1)};a.ob=function(a){var b,d,f,e,g,k=0,p,n="",q="";if(a&&255<a.length&&(b=""+a,d=b.indexOf("?"),0<d&&(p=b.substring(d+1),b=b.substring(0,d),e=b.toLowerCase(),f=0,"http://"==
e.substring(0,7)?f+=7:"https://"==e.substring(0,8)&&(f+=8),d=e.indexOf("/",f),0<d&&(e=e.substring(f,d),g=b.substring(d),b=b.substring(0,d),0<=e.indexOf("google")?k=",q,ie,start,search_key,word,kw,cd,":0<=e.indexOf("yahoo.co")&&(k=",p,ei,"),k&&p)))){if((a=p.split("&"))&&1<a.length){for(f=0;f<a.length;f++)e=a[f],d=e.indexOf("="),0<d&&0<=k.indexOf(","+e.substring(0,d)+",")?n+=(n?"&":"")+e:q+=(q?"&":"")+e;n&&q?p=n+"&"+q:q=""}d=253-(p.length-q.length)-b.length;a=b+(0<d?g.substring(0,d):"")+"?"+p}return a};
a.Wa=function(c){var b=a.d.visibilityState,d=["webkitvisibilitychange","visibilitychange"];b||(b=a.d.webkitVisibilityState);if(b&&"prerender"==b){if(c)for(b=0;b<d.length;b++)a.d.addEventListener(d[b],function(){var b=a.d.visibilityState;b||(b=a.d.webkitVisibilityState);"visible"==b&&c()});return!1}return!0};a.da=!1;a.I=!1;a.eb=function(){a.I=!0;a.j()};a.ba=!1;a.U=!1;a.$a=function(c){a.marketingCloudVisitorID=c;a.U=!0;a.j()};a.ea=!1;a.V=!1;a.fb=function(c){a.visitorOptedOut=c;a.V=!0;a.j()};a.Y=!1;
a.R=!1;a.Sa=function(c){a.analyticsVisitorID=c;a.R=!0;a.j()};a.aa=!1;a.T=!1;a.Ua=function(c){a.audienceManagerLocationHint=c;a.T=!0;a.j()};a.Z=!1;a.S=!1;a.Ta=function(c){a.audienceManagerBlob=c;a.S=!0;a.j()};a.Va=function(c){a.maxDelay||(a.maxDelay=250);return a.p("_d")?(c&&setTimeout(function(){c()},a.maxDelay),!1):!0};a.ca=!1;a.H=!1;a.va=function(){a.H=!0;a.j()};a.isReadyToTrack=function(){var c=!0,b=a.visitor,d,f,e;a.da||a.I||(a.Wa(a.eb)?a.I=!0:a.da=!0);if(a.da&&!a.I)return!1;b&&b.isAllowed()&&
(a.ba||a.marketingCloudVisitorID||!b.getMarketingCloudVisitorID||(a.ba=!0,a.marketingCloudVisitorID=b.getMarketingCloudVisitorID([a,a.$a]),a.marketingCloudVisitorID&&(a.U=!0)),a.ea||a.visitorOptedOut||!b.isOptedOut||(a.ea=!0,a.visitorOptedOut=b.isOptedOut([a,a.fb]),a.visitorOptedOut!=q&&(a.V=!0)),a.Y||a.analyticsVisitorID||!b.getAnalyticsVisitorID||(a.Y=!0,a.analyticsVisitorID=b.getAnalyticsVisitorID([a,a.Sa]),a.analyticsVisitorID&&(a.R=!0)),a.aa||a.audienceManagerLocationHint||!b.getAudienceManagerLocationHint||
(a.aa=!0,a.audienceManagerLocationHint=b.getAudienceManagerLocationHint([a,a.Ua]),a.audienceManagerLocationHint&&(a.T=!0)),a.Z||a.audienceManagerBlob||!b.getAudienceManagerBlob||(a.Z=!0,a.audienceManagerBlob=b.getAudienceManagerBlob([a,a.Ta]),a.audienceManagerBlob&&(a.S=!0)),c=a.ba&&!a.U&&!a.marketingCloudVisitorID,b=a.Y&&!a.R&&!a.analyticsVisitorID,d=a.aa&&!a.T&&!a.audienceManagerLocationHint,f=a.Z&&!a.S&&!a.audienceManagerBlob,e=a.ea&&!a.V,c=c||b||d||f||e?!1:!0);a.ca||a.H||(a.Va(a.va)?a.H=!0:a.ca=
!0);a.ca&&!a.H&&(c=!1);return c};a.o=q;a.u=0;a.callbackWhenReadyToTrack=function(c,b,d){var f;f={};f.jb=c;f.ib=b;f.gb=d;a.o==q&&(a.o=[]);a.o.push(f);0==a.u&&(a.u=setInterval(a.j,100))};a.j=function(){var c;if(a.isReadyToTrack()&&(a.cb(),a.o!=q))for(;0<a.o.length;)c=a.o.shift(),c.ib.apply(c.jb,c.gb)};a.cb=function(){a.u&&(clearInterval(a.u),a.u=0)};a.Ya=function(c){var b,d,f=q,e=q;if(!a.isReadyToTrack()){b=[];if(c!=q)for(d in f={},c)f[d]=c[d];e={};a.Qa(e,!0);b.push(f);b.push(e);a.callbackWhenReadyToTrack(a,
a.track,b);return!0}return!1};a.qb=function(){var c=a.cookieRead("s_fid"),b="",d="",f;f=8;var e=4;if(!c||0>c.indexOf("-")){for(c=0;16>c;c++)f=Math.floor(Math.random()*f),b+="0123456789ABCDEF".substring(f,f+1),f=Math.floor(Math.random()*e),d+="0123456789ABCDEF".substring(f,f+1),f=e=16;c=b+"-"+d}a.cookieWrite("s_fid",c,1)||(c=0);return c};a.t=a.track=function(c,b){var d,f=new Date,e="s"+Math.floor(f.getTime()/108E5)%10+Math.floor(1E13*Math.random()),g=f.getYear(),g="t="+a.escape(f.getDate()+"/"+f.getMonth()+
"/"+(1900>g?g+1900:g)+" "+f.getHours()+":"+f.getMinutes()+":"+f.getSeconds()+" "+f.getDay()+" "+f.getTimezoneOffset());a.visitor&&(a.visitor.getAuthState&&(a.authState=a.visitor.getAuthState()),!a.supplementalDataID&&a.visitor.getSupplementalDataID&&(a.supplementalDataID=a.visitor.getSupplementalDataID("AppMeasurement:"+a._in,a.expectSupplementalData?!1:!0)));a.p("_s");a.Ya(c)||(b&&a.Q(b),c&&(d={},a.Qa(d,0),a.Q(c)),a.wb()&&!a.visitorOptedOut&&(a.analyticsVisitorID||a.marketingCloudVisitorID||(a.fid=
a.qb()),a.Bb(),a.usePlugins&&a.doPlugins&&a.doPlugins(a),a.account&&(a.abort||(a.trackOffline&&!a.timestamp&&(a.timestamp=Math.floor(f.getTime()/1E3)),f=k.location,a.pageURL||(a.pageURL=f.href?f.href:f),a.referrer||a.Ra||(a.referrer=r.document.referrer),a.Ra=1,a.referrer=a.ob(a.referrer),a.p("_g")),a.tb()&&!a.abort&&(a.ub(),g+=a.sb(),a.Ab(e,g),a.p("_t"),a.referrer=""))),c&&a.Q(d,1));a.abort=a.supplementalDataID=a.timestamp=a.pageURLRest=a.linkObject=a.clickObject=a.linkURL=a.linkName=a.linkType=k.s_objectID=
a.pe=a.pev1=a.pev2=a.pev3=a.e=a.lightProfileID=0};a.tl=a.trackLink=function(c,b,d,f,e){a.linkObject=c;a.linkType=b;a.linkName=d;e&&(a.l=c,a.A=e);return a.track(f)};a.trackLight=function(c,b,d,f){a.lightProfileID=c;a.lightStoreForSeconds=b;a.lightIncrementBy=d;return a.track(f)};a.clearVars=function(){var c,b;for(c=0;c<a.g.length;c++)if(b=a.g[c],"prop"==b.substring(0,4)||"eVar"==b.substring(0,4)||"hier"==b.substring(0,4)||"list"==b.substring(0,4)||"channel"==b||"events"==b||"eventList"==b||"products"==
b||"productList"==b||"purchaseID"==b||"transactionID"==b||"state"==b||"zip"==b||"campaign"==b)a[b]=void 0};a.tagContainerMarker="";a.Ab=function(c,b){var d,f=a.trackingServer;d="";var e=a.dc,g="sc.",k=a.visitorNamespace;f?a.trackingServerSecure&&a.ssl&&(f=a.trackingServerSecure):(k||(k=a.account,f=k.indexOf(","),0<=f&&(k=k.substring(0,f)),k=k.replace(/[^A-Za-z0-9]/g,"")),d||(d="2o7.net"),e=e?(""+e).toLowerCase():"d1","2o7.net"==d&&("d1"==e?e="112":"d2"==e&&(e="122"),g=""),f=k+"."+e+"."+g+d);d=a.ssl?
"https://":"http://";e=a.AudienceManagement&&a.AudienceManagement.isReady()||0!=a.usePostbacks;d+=f+"/b/ss/"+a.account+"/"+(a.mobile?"5.":"")+(e?"10":"1")+"/JS-"+a.version+(a.Eb?"T":"")+(a.tagContainerMarker?"-"+a.tagContainerMarker:"")+"/"+c+"?AQB=1&ndh=1&pf=1&"+(e?"callback=s_c_il["+a._in+"].doPostbacks&et=1&":"")+b+"&AQE=1";a.mb(d);a.ja()};a.Pa=/{(%?)(.*?)(%?)}/;a.Ib=RegExp(a.Pa.source,"g");a.nb=function(c){if("object"==typeof c.dests)for(var b=0;b<c.dests.length;++b)if(o=c.dests[b],"string"==
typeof o.c&&"aa."==o.id.substr(0,3))for(var d=o.c.match(a.Ib),b=0;b<d.length;++b){match=d[b];var f=match.match(a.Pa),e="";"%"==f[1]&&"timezone_offset"==f[2]?e=(new Date).getTimezoneOffset():"%"==f[1]&&"timestampz"==f[2]&&(e=a.rb());o.c=o.c.replace(match,a.escape(e))}};a.rb=function(){var c=new Date,b=new Date(6E4*Math.abs(c.getTimezoneOffset()));return a.k(4,c.getFullYear())+"-"+a.k(2,c.getMonth()+1)+"-"+a.k(2,c.getDate())+"T"+a.k(2,c.getHours())+":"+a.k(2,c.getMinutes())+":"+a.k(2,c.getSeconds())+
(0<c.getTimezoneOffset()?"-":"+")+a.k(2,b.getUTCHours())+":"+a.k(2,b.getUTCMinutes())};a.k=function(a,b){return(Array(a+1).join(0)+b).slice(-a)};a.ra={};a.doPostbacks=function(c){if("object"==typeof c)if(a.nb(c),"object"==typeof a.AudienceManagement&&"function"==typeof a.AudienceManagement.isReady&&a.AudienceManagement.isReady()&&"function"==typeof a.AudienceManagement.passData)a.AudienceManagement.passData(c);else if("object"==typeof c&&"object"==typeof c.dests)for(var b=0;b<c.dests.length;++b)dest=
c.dests[b],"object"==typeof dest&&"string"==typeof dest.c&&"string"==typeof dest.id&&"aa."==dest.id.substr(0,3)&&(a.ra[dest.id]=new Image,a.ra[dest.id].alt="",a.ra[dest.id].src=dest.c)};a.mb=function(c){a.i||a.vb();a.i.push(c);a.la=a.C();a.Na()};a.vb=function(){a.i=a.xb();a.i||(a.i=[])};a.xb=function(){var c,b;if(a.qa()){try{(b=k.localStorage.getItem(a.oa()))&&(c=k.JSON.parse(b))}catch(d){}return c}};a.qa=function(){var c=!0;a.trackOffline&&a.offlineFilename&&k.localStorage&&k.JSON||(c=!1);return c};
a.Ea=function(){var c=0;a.i&&(c=a.i.length);a.q&&c++;return c};a.ja=function(){if(a.q&&(a.B&&a.B.complete&&a.B.F&&a.B.ua(),a.q))return;a.Fa=q;if(a.pa)a.la>a.N&&a.La(a.i),a.ta(500);else{var c=a.hb();if(0<c)a.ta(c);else if(c=a.Ba())a.q=1,a.zb(c),a.Db(c)}};a.ta=function(c){a.Fa||(c||(c=0),a.Fa=setTimeout(a.ja,c))};a.hb=function(){var c;if(!a.trackOffline||0>=a.offlineThrottleDelay)return 0;c=a.C()-a.Ka;return a.offlineThrottleDelay<c?0:a.offlineThrottleDelay-c};a.Ba=function(){if(0<a.i.length)return a.i.shift()};
a.zb=function(c){if(a.debugTracking){var b="AppMeasurement Debug: "+c;c=c.split("&");var d;for(d=0;d<c.length;d++)b+="\n\t"+a.unescape(c[d]);a.yb(b)}};a.Za=function(){return a.marketingCloudVisitorID||a.analyticsVisitorID};a.X=!1;var s;try{s=JSON.parse('{"x":"y"}')}catch(x){s=null}s&&"y"==s.x?(a.X=!0,a.W=function(a){return JSON.parse(a)}):k.$&&k.$.parseJSON?(a.W=function(a){return k.$.parseJSON(a)},a.X=!0):a.W=function(){return null};a.Db=function(c){var b,d,f;a.Za()&&2047<c.length&&("undefined"!=
typeof XMLHttpRequest&&(b=new XMLHttpRequest,"withCredentials"in b?d=1:b=0),b||"undefined"==typeof XDomainRequest||(b=new XDomainRequest,d=2),b&&(a.AudienceManagement&&a.AudienceManagement.isReady()||0!=a.usePostbacks)&&(a.X?b.xa=!0:b=0));!b&&a.Oa&&(c=c.substring(0,2047));!b&&a.d.createElement&&(0!=a.usePostbacks||a.AudienceManagement&&a.AudienceManagement.isReady())&&(b=a.d.createElement("SCRIPT"))&&"async"in b&&((f=(f=a.d.getElementsByTagName("HEAD"))&&f[0]?f[0]:a.d.body)?(b.type="text/javascript",
b.setAttribute("async","async"),d=3):b=0);b||(b=new Image,b.alt="",b.abort||"undefined"===typeof k.InstallTrigger||(b.abort=function(){b.src=q}));b.za=function(){try{b.F&&(clearTimeout(b.F),b.F=0)}catch(a){}};b.onload=b.ua=function(){b.za();a.lb();a.fa();a.q=0;a.ja();if(b.xa){b.xa=!1;try{a.doPostbacks(a.W(b.responseText))}catch(c){}}};b.onabort=b.onerror=b.Ca=function(){b.za();(a.trackOffline||a.pa)&&a.q&&a.i.unshift(a.kb);a.q=0;a.la>a.N&&a.La(a.i);a.fa();a.ta(500)};b.onreadystatechange=function(){4==
b.readyState&&(200==b.status?b.ua():b.Ca())};a.Ka=a.C();if(1==d||2==d){var e=c.indexOf("?");f=c.substring(0,e);e=c.substring(e+1);e=e.replace(/&callback=[a-zA-Z0-9_.\[\]]+/,"");1==d?(b.open("POST",f,!0),b.send(e)):2==d&&(b.open("POST",f),b.send(e))}else if(b.src=c,3==d){if(a.Ia)try{f.removeChild(a.Ia)}catch(g){}f.firstChild?f.insertBefore(b,f.firstChild):f.appendChild(b);a.Ia=a.B}b.F=setTimeout(function(){b.F&&(b.complete?b.ua():(a.trackOffline&&b.abort&&b.abort(),b.Ca()))},5E3);a.kb=c;a.B=k["s_i_"+
a.replace(a.account,",","_")]=b;if(a.useForcedLinkTracking&&a.J||a.A)a.forcedLinkTrackingTimeout||(a.forcedLinkTrackingTimeout=250),a.ga=setTimeout(a.fa,a.forcedLinkTrackingTimeout)};a.lb=function(){if(a.qa()&&!(a.Ja>a.N))try{k.localStorage.removeItem(a.oa()),a.Ja=a.C()}catch(c){}};a.La=function(c){if(a.qa()){a.Na();try{k.localStorage.setItem(a.oa(),k.JSON.stringify(c)),a.N=a.C()}catch(b){}}};a.Na=function(){if(a.trackOffline){if(!a.offlineLimit||0>=a.offlineLimit)a.offlineLimit=10;for(;a.i.length>
a.offlineLimit;)a.Ba()}};a.forceOffline=function(){a.pa=!0};a.forceOnline=function(){a.pa=!1};a.oa=function(){return a.offlineFilename+"-"+a.visitorNamespace+a.account};a.C=function(){return(new Date).getTime()};a.Ga=function(a){a=a.toLowerCase();return 0!=a.indexOf("#")&&0!=a.indexOf("about:")&&0!=a.indexOf("opera:")&&0!=a.indexOf("javascript:")?!0:!1};a.setTagContainer=function(c){var b,d,f;a.Eb=c;for(b=0;b<a._il.length;b++)if((d=a._il[b])&&"s_l"==d._c&&d.tagContainerName==c){a.Q(d);if(d.lmq)for(b=
0;b<d.lmq.length;b++)f=d.lmq[b],a.loadModule(f.n);if(d.ml)for(f in d.ml)if(a[f])for(b in c=a[f],f=d.ml[f],f)!Object.prototype[b]&&("function"!=typeof f[b]||0>(""+f[b]).indexOf("s_c_il"))&&(c[b]=f[b]);if(d.mmq)for(b=0;b<d.mmq.length;b++)f=d.mmq[b],a[f.m]&&(c=a[f.m],c[f.f]&&"function"==typeof c[f.f]&&(f.a?c[f.f].apply(c,f.a):c[f.f].apply(c)));if(d.tq)for(b=0;b<d.tq.length;b++)a.track(d.tq[b]);d.s=a;break}};a.Util={urlEncode:a.escape,urlDecode:a.unescape,cookieRead:a.cookieRead,cookieWrite:a.cookieWrite,
getQueryParam:function(c,b,d){var f;b||(b=a.pageURL?a.pageURL:k.location);d||(d="&");return c&&b&&(b=""+b,f=b.indexOf("?"),0<=f&&(b=d+b.substring(f+1)+d,f=b.indexOf(d+c+"="),0<=f&&(b=b.substring(f+d.length+c.length+1),f=b.indexOf(d),0<=f&&(b=b.substring(0,f)),0<b.length)))?a.unescape(b):""}};a.G="supplementalDataID timestamp dynamicVariablePrefix visitorID marketingCloudVisitorID analyticsVisitorID audienceManagerLocationHint authState fid vmk visitorMigrationKey visitorMigrationServer visitorMigrationServerSecure charSet visitorNamespace cookieDomainPeriods fpCookieDomainPeriods cookieLifetime pageName pageURL referrer contextData currencyCode lightProfileID lightStoreForSeconds lightIncrementBy retrieveLightProfiles deleteLightProfiles retrieveLightData".split(" ");
a.g=a.G.concat("purchaseID variableProvider channel server pageType transactionID campaign state zip events events2 products audienceManagerBlob tnt".split(" "));a.ma="timestamp charSet visitorNamespace cookieDomainPeriods cookieLifetime contextData lightProfileID lightStoreForSeconds lightIncrementBy".split(" ");a.O=a.ma.slice(0);a.wa="account allAccounts debugTracking visitor visitorOptedOut trackOffline offlineLimit offlineThrottleDelay offlineFilename usePlugins doPlugins configURL visitorSampling visitorSamplingGroup linkObject clickObject linkURL linkName linkType trackDownloadLinks trackExternalLinks trackClickMap trackInlineStats linkLeaveQueryString linkTrackVars linkTrackEvents linkDownloadFileTypes linkExternalFilters linkInternalFilters useForcedLinkTracking forcedLinkTrackingTimeout trackingServer trackingServerSecure ssl abort mobile dc lightTrackVars maxDelay expectSupplementalData usePostbacks AudienceManagement".split(" ");
for(n=0;250>=n;n++)76>n&&(a.g.push("prop"+n),a.O.push("prop"+n)),a.g.push("eVar"+n),a.O.push("eVar"+n),6>n&&a.g.push("hier"+n),4>n&&a.g.push("list"+n);n="pe pev1 pev2 pev3 latitude longitude resolution colorDepth javascriptVersion javaEnabled cookiesEnabled browserWidth browserHeight connectionType homepage pageURLRest".split(" ");a.g=a.g.concat(n);a.G=a.G.concat(n);a.ssl=0<=k.location.protocol.toLowerCase().indexOf("https");a.charSet="UTF-8";a.contextData={};a.offlineThrottleDelay=0;a.offlineFilename=
"AppMeasurement.offline";a.Ka=0;a.la=0;a.N=0;a.Ja=0;a.linkDownloadFileTypes="exe,zip,wav,mp3,mov,mpg,avi,wmv,pdf,doc,docx,xls,xlsx,ppt,pptx";a.w=k;a.d=k.document;try{if(a.Oa=!1,navigator){var y=navigator.userAgent;if("Microsoft Internet Explorer"==navigator.appName||0<=y.indexOf("MSIE ")||0<=y.indexOf("Trident/")&&0<=y.indexOf("Windows NT 6"))a.Oa=!0}}catch(z){}a.fa=function(){a.ga&&(k.clearTimeout(a.ga),a.ga=q);a.l&&a.J&&a.l.dispatchEvent(a.J);a.A&&("function"==typeof a.A?a.A():a.l&&a.l.href&&(a.d.location=
a.l.href));a.l=a.J=a.A=0};a.Ma=function(){a.b=a.d.body;a.b?(a.v=function(c){var b,d,f,e,g;if(!(a.d&&a.d.getElementById("cppXYctnr")||c&&c["s_fe_"+a._in])){if(a.ya)if(a.useForcedLinkTracking)a.b.removeEventListener("click",a.v,!1);else{a.b.removeEventListener("click",a.v,!0);a.ya=a.useForcedLinkTracking=0;return}else a.useForcedLinkTracking=0;a.clickObject=c.srcElement?c.srcElement:c.target;try{if(!a.clickObject||a.M&&a.M==a.clickObject||!(a.clickObject.tagName||a.clickObject.parentElement||a.clickObject.parentNode))a.clickObject=
0;else{var m=a.M=a.clickObject;a.ka&&(clearTimeout(a.ka),a.ka=0);a.ka=setTimeout(function(){a.M==m&&(a.M=0)},1E4);f=a.Ea();a.track();if(f<a.Ea()&&a.useForcedLinkTracking&&c.target){for(e=c.target;e&&e!=a.b&&"A"!=e.tagName.toUpperCase()&&"AREA"!=e.tagName.toUpperCase();)e=e.parentNode;if(e&&(g=e.href,a.Ga(g)||(g=0),d=e.target,c.target.dispatchEvent&&g&&(!d||"_self"==d||"_top"==d||"_parent"==d||k.name&&d==k.name))){try{b=a.d.createEvent("MouseEvents")}catch(n){b=new k.MouseEvent}if(b){try{b.initMouseEvent("click",
c.bubbles,c.cancelable,c.view,c.detail,c.screenX,c.screenY,c.clientX,c.clientY,c.ctrlKey,c.altKey,c.shiftKey,c.metaKey,c.button,c.relatedTarget)}catch(q){b=0}b&&(b["s_fe_"+a._in]=b.s_fe=1,c.stopPropagation(),c.stopImmediatePropagation&&c.stopImmediatePropagation(),c.preventDefault(),a.l=c.target,a.J=b)}}}}}catch(r){a.clickObject=0}}},a.b&&a.b.attachEvent?a.b.attachEvent("onclick",a.v):a.b&&a.b.addEventListener&&(navigator&&(0<=navigator.userAgent.indexOf("WebKit")&&a.d.createEvent||0<=navigator.userAgent.indexOf("Firefox/2")&&
k.MouseEvent)&&(a.ya=1,a.useForcedLinkTracking=1,a.b.addEventListener("click",a.v,!0)),a.b.addEventListener("click",a.v,!1))):setTimeout(a.Ma,30)};a.Ma();a.loadModule("ActivityMap")}
function s_gi(a){var k,q=window.s_c_il,r,n,t=a.split(","),u,s,x=0;if(q)for(r=0;!x&&r<q.length;){k=q[r];if("s_c"==k._c&&(k.account||k.oun))if(k.account&&k.account==a)x=1;else for(n=k.account?k.account:k.oun,n=k.allAccounts?k.allAccounts:n.split(","),u=0;u<t.length;u++)for(s=0;s<n.length;s++)t[u]==n[s]&&(x=1);r++}x||(k=new AppMeasurement);k.setAccount?k.setAccount(a):k.sa&&k.sa(a);return k}AppMeasurement.getInstance=s_gi;window.s_objectID||(window.s_objectID=0);
function s_pgicq(){var a=window,k=a.s_giq,q,r,n;if(k)for(q=0;q<k.length;q++)r=k[q],n=s_gi(r.oun),n.setAccount(r.un),n.setTagContainer(r.tagContainerName);a.s_giq=0}s_pgicq();